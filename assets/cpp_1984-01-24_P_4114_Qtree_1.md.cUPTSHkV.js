import{_ as a,c as s,o as i,V as t}from"./chunks/framework.jgiY9GFO.js";const r=JSON.parse('{"title":"P_4114_Qtree_1","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01-24/P_4114_Qtree_1.md","filePath":"cpp/1984-01-24/P_4114_Qtree_1.md"}'),n={name:"cpp/1984-01-24/P_4114_Qtree_1.md"},h=t(`<h1 id="p-4114-qtree-1" tabindex="-1" data-v-5232f45c>P_4114_Qtree_1 <a class="header-anchor" href="#p-4114-qtree-1" aria-label="Permalink to &quot;P_4114_Qtree_1&quot;" data-v-5232f45c>â€‹</a></h1><div class="language-cpp vp-adaptive-theme" data-v-5232f45c><button title="Copy Code" class="copy" data-v-5232f45c></button><span class="lang" data-v-5232f45c>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-5232f45c><code data-v-5232f45c><span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &lt;iostream&gt;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &lt;cmath&gt;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &lt;algorithm&gt;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c> long</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c>&quot;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 200010</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> n, idx, head[N], a[N], b[N];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-5232f45c>//</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>{</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> to, next, w;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>} e[N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> w</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    e[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>idx].to </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    e[idx].w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> w;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    b[idx] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> w;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    e[idx].next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> head[u];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    head[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> idx;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-5232f45c>//</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> fa[N],son[N],deep[N],size[N],top[N],id[N],cnt, nval[N];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> father</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> father;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    deep[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> deep[father] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> head[u]; i ; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> e[i].next){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> e[i].to;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> father) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        a[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> b[i];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>        dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(v, u);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> size[v];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(size[son[u]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> size[v]) son[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    top[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> t;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    id[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>cnt;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    nval[cnt] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> u;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(son[u], t);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> head[u];i; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> e[i].next){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> e[i].to;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>        dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(v, v);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-5232f45c>//</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>{</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> l, r;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    ll sum, add;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}tr[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> lson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> rson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(tr[lson].sum , tr[rson].sum);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> l;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    tr[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> r;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> r){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> a[nval[l]];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(lson, l, mid);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, r);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(k);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> r){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> val;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(lson, l , mid, x, val);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> , r, x, val);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(k);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> tr[k].r){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> tr[k].sum;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> (tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> tr[k].r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(res,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(lson, l, r));</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(rson, l, r));</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> res;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-5232f45c> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(top[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> top[y]){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(deep[top[x]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> deep[top[y]]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(x, y);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, id[top[x]], id[x]));</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> fa[top[x]];</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(deep[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> deep[y]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(x, y);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>, id[x], id[y]));</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> res;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> n;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> u,v,w; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> w;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(u, v, w);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(v, u, w);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>,n);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        string op; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> op;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &quot;DONE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> u,v; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &quot;QUERY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> v)</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>                cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> endl;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>            else</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>                cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(u, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c> endl;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-5232f45c> &quot;CHANGE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>){</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-5232f45c>            changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>,n,id[u],v);</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>        }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>    }</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-5232f45c>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-5232f45c> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>;</span></span>
<span class="line" data-v-5232f45c><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-5232f45c>}</span></span></code></pre></div>`,2),k=[h];function l(p,d,E,c,e,f){return i(),s("div",null,k)}const g=a(n,[["render",l],["__scopeId","data-v-5232f45c"]]);export{r as __pageData,g as default};
