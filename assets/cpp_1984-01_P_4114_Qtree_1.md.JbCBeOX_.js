import{_ as a,c as s,o as i,V as t}from"./chunks/framework.WykxUCM3.js";const r=JSON.parse('{"title":"P_4114_Qtree_1","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P_4114_Qtree_1.md","filePath":"cpp/1984-01/P_4114_Qtree_1.md"}'),n={name:"cpp/1984-01/P_4114_Qtree_1.md"},h=t(`<h1 id="p-4114-qtree-1" tabindex="-1" data-v-85c288b5>P_4114_Qtree_1 <a class="header-anchor" href="#p-4114-qtree-1" aria-label="Permalink to &quot;P_4114_Qtree_1&quot;" data-v-85c288b5>â€‹</a></h1><div class="language-cpp vp-adaptive-theme" data-v-85c288b5><button title="Copy Code" class="copy" data-v-85c288b5></button><span class="lang" data-v-85c288b5>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-85c288b5><code data-v-85c288b5><span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &lt;iostream&gt;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &lt;cmath&gt;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &lt;algorithm&gt;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5> long</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5>&quot;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 200010</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> n, idx, head[N], a[N], b[N];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-85c288b5>//</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>{</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> to, next, w;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>} e[N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> w</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    e[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>idx].to </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    e[idx].w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> w;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    b[idx] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> w;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    e[idx].next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> head[u];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    head[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> idx;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-85c288b5>//</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> fa[N],son[N],deep[N],size[N],top[N],id[N],cnt, nval[N];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> father</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> father;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    deep[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> deep[father] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> head[u]; i ; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> e[i].next){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> e[i].to;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> father) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        a[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> b[i];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>        dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(v, u);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> size[v];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(size[son[u]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> size[v]) son[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    top[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> t;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    id[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>cnt;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    nval[cnt] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> u;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(son[u], t);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> head[u];i; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> e[i].next){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> e[i].to;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>        dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(v, v);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-85c288b5>//</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>{</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> l, r;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    ll sum, add;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}tr[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> lson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> rson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(tr[lson].sum , tr[rson].sum);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> l;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    tr[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> r;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> r){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> a[nval[l]];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(lson, l, mid);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, r);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(k);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> r){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> val;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(lson, l , mid, x, val);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> , r, x, val);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(k);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> tr[k].r){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> tr[k].sum;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> (tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> tr[k].r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(res,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(lson, l, r));</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(rson, l, r));</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> res;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-85c288b5> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(top[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> top[y]){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(deep[top[x]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> deep[top[y]]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(x, y);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, id[top[x]], id[x]));</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> fa[top[x]];</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(deep[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> deep[y]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(x, y);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>, id[x], id[y]));</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> res;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> n;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> u,v,w; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> w;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(u, v, w);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(v, u, w);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>,n);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        string op; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> op;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &quot;DONE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> u,v; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &quot;QUERY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> v)</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>                cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> endl;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>            else</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>                cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(u, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5> endl;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-85c288b5> &quot;CHANGE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>){</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-85c288b5>            changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>,n,id[u],v);</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>        }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>    }</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-85c288b5>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-85c288b5> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>;</span></span>
<span class="line" data-v-85c288b5><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-85c288b5>}</span></span></code></pre></div>`,2),k=[h];function l(p,d,E,c,e,v){return i(),s("div",null,k)}const g=a(n,[["render",l],["__scopeId","data-v-85c288b5"]]);export{r as __pageData,g as default};
