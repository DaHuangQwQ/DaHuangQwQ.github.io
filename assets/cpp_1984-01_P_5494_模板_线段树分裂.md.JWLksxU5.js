import{_ as a,c as s,o as i,V as t}from"./chunks/framework.WykxUCM3.js";const y=JSON.parse('{"title":"P_5494_模板_线段树分裂","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P_5494_模板_线段树分裂.md","filePath":"cpp/1984-01/P_5494_模板_线段树分裂.md"}'),d={name:"cpp/1984-01/P_5494_模板_线段树分裂.md"},k=t(`<h1 id="p-5494-模板-线段树分裂" tabindex="-1" data-v-cd303388>P_5494_模板_线段树分裂 <a class="header-anchor" href="#p-5494-模板-线段树分裂" aria-label="Permalink to &quot;P_5494_模板_线段树分裂&quot;" data-v-cd303388>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-cd303388><button title="Copy Code" class="copy" data-v-cd303388></button><span class="lang" data-v-cd303388>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-cd303388><code data-v-cd303388><span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388> &lt;iostream&gt;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388> &lt;cstring&gt;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388> &lt;algorithm&gt;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> long</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> mid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> ((l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>r)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>)</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>200005</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> n,m,tot,root[N];</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> ls[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>],rs[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>]; ll sum[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //权值个数</span></span>
<span class="line" data-v-cd303388></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //合并</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>||!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>sum[y];</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  ls[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(ls[x],ls[y]);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  rs[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(rs[x],rs[y]);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> x;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>}</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388>y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>ll</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //分裂</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388>  //将x从k处斩断，前k小的归x，后面的归y</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>k) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>tot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //开点</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  ll s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>sum[ls[x]];</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388>  //swap:右子树归y，x的右子树变成0</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>s) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(ls[x],ls[y],k),</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(rs[x],rs[y]);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(rs[x],rs[y],k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>s);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  sum[y]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>k; sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>k;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>}</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388>u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //点修</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>u) u</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>tot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //开点</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  sum[u]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>k;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(ls[u],l,mid,p,k);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(rs[u],mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,r,p,k);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>}</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>ll</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //区查</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>l) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> sum[u];</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(ls[u],l,mid,x,y)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(rs[u],mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,r,x,y);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>}</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-cd303388> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //第k小</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> l;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>sum[ls[u]]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(ls[u],l,mid,k);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(rs[u],mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,r,k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>sum[ls[u]]);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>}</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(){</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>  scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>n,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>m);</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> op,p,x,y,cnt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>)</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>    scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x),</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,n,i,x);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>m;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>    scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>op);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //[x,y]移动到新可重集cnt</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>      ll k1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,n,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,y),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //[1,y]的个数</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>         k2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,n,x,y);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //[x,y]的个数</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>      int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388> tmp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>;</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],root[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>cnt],k1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>k2);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[cnt],tmp,k2);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>      root[p]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],tmp);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>    }</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //可重集y放入x</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>      root[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[x],root[y]);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>    }</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //加入x个数字y</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,n,y,x);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>    }</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //查询[x,y]个数</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>y);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%lld\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,n,x,y));</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>    }</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>{</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-cd303388> //查询第x小</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(sum[root[p]]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>x) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>);</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-cd303388>      else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388> printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>%d\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-cd303388>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-cd303388>kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-cd303388>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>,n,x));</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>    }</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>  }</span></span>
<span class="line" data-v-cd303388><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-cd303388>}</span></span></code></pre></div>`,2),h=[k];function n(p,l,E,c,e,r){return i(),s("div",null,h)}const g=a(d,[["render",n],["__scopeId","data-v-cd303388"]]);export{y as __pageData,g as default};
