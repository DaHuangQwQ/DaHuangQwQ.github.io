import{_ as a,c as s,o as i,V as t}from"./chunks/framework.WykxUCM3.js";const r=JSON.parse('{"title":"P_2863_USACO_06_JAN_The_Cow_Prom_S","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/2024-03/P_2863_USACO_06_JAN_The_Cow_Prom_S.md","filePath":"cpp/2024-03/P_2863_USACO_06_JAN_The_Cow_Prom_S.md"}'),n={name:"cpp/2024-03/P_2863_USACO_06_JAN_The_Cow_Prom_S.md"},h=t(`<h1 id="p-2863-usaco-06-jan-the-cow-prom-s" tabindex="-1" data-v-2feacf19>P_2863_USACO_06_JAN_The_Cow_Prom_S <a class="header-anchor" href="#p-2863-usaco-06-jan-the-cow-prom-s" aria-label="Permalink to &quot;P_2863_USACO_06_JAN_The_Cow_Prom_S&quot;" data-v-2feacf19>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-2feacf19><button title="Copy Code" class="copy" data-v-2feacf19></button><span class="lang" data-v-2feacf19>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-2feacf19><code data-v-2feacf19><span class="line" data-v-2feacf19><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>// #include&lt;bits/stdc++.h&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &lt;iostream&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &lt;assert.h&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &lt;algorithm&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &lt;cstring&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &lt;queue&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &lt;vector&gt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> long</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>&quot;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>typedef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> pair</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&lt;int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> PII;</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#ifdef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> LOCAL_MACHINE</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>arg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>...) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(format, ##arg)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> debug_info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, ...) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\033</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>[1m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\033</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>[45;33m Info:[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>)]: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\033</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>[0m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> format </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>__FILE__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>__FUNCTION__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>__LINE__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, ##__VA_ARGS__);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#else</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>arg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>...) ;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> debug_info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, ...)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#endif</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> zassert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19>s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    do</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>                         \\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    {                          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> ((x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        {                      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>            printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>%s\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-2feacf19>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>, s); </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>            assert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>((x));       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        }                      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>\\</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>// https://www.luogu.com.cn/problem/P2863</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> n, m, a, b;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&lt;int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> e[N];</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> dfn[N], low[N], tot;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> stk[N], instk[N], top;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> scc[N], siz[N], cnt;</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-2feacf19> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>{</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>    // 入x时，盖戳、入栈</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    dfn[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> low[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>tot;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    stk[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>top] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> x, instk[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> y : e[x])</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    {</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>dfn[y])</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19> // 若y尚未访问</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>            tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(y);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>            low[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(low[x], low[y]);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19> // 回x时更新low</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        }</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (instk[y])</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>                // 若y已访问且在栈中</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>            low[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(low[x], dfn[y]);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19> // 在x时更新low</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    }</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>    // 离x时，收集SCC</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (dfn[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> low[x])</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19> // 若x是SCC的根</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> y;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>cnt;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        do</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        {</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>            y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> stk[top</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>];</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>            instk[y] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>            scc[y] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> cnt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19> // SCC编号</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>            ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>siz[cnt];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>   // SCC大小</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> x);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    }</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>}</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> solve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>()</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>{</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> m;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>        cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> b, e[a].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(b);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> n; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19> // 可能不连通</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>dfn[i])</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>            tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(i);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> cnt; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (siz[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>            ans</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> endl;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>}</span></span>
<span class="line" data-v-2feacf19></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>signed</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>()</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>{</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>    ios</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>sync_with_stdio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    cin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    cout.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>);</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-2feacf19>    // cin &gt;&gt; n;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19> (n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>)</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    {</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-2feacf19>        solve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>();</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>    }</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-2feacf19>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-2feacf19> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>;</span></span>
<span class="line" data-v-2feacf19><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-2feacf19>}</span></span></code></pre></div>`,2),k=[h];function e(l,f,p,d,c,E){return i(),s("div",null,k)}const g=a(n,[["render",e],["__scopeId","data-v-2feacf19"]]);export{r as __pageData,g as default};
