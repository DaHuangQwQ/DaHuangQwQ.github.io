import{_ as s,c as i,a2 as t,o as d}from"./chunks/framework.BQmytedh.js";const f=JSON.parse('{"title":"P2656 采蘑菇","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P2656 采蘑菇.md","filePath":"cpp/1984-01/P2656 采蘑菇.md"}'),n={name:"cpp/1984-01/P2656 采蘑菇.md"};function h(k,a,e,l,p,E){return d(),i("div",null,a[0]||(a[0]=[t(`<h1 id="p2656-采蘑菇" tabindex="-1" data-v-9d8ef314>P2656 采蘑菇 <a class="header-anchor" href="#p2656-采蘑菇" aria-label="Permalink to &quot;P2656 采蘑菇&quot;" data-v-9d8ef314>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-9d8ef314><button title="Copy Code" class="copy" data-v-9d8ef314></button><span class="lang" data-v-9d8ef314>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-9d8ef314><code data-v-9d8ef314><span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-9d8ef314> &lt;iostream&gt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-9d8ef314> &lt;deque&gt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-9d8ef314> &lt;vector&gt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-9d8ef314> &lt;cstring&gt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-9d8ef314> &lt;stack&gt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-9d8ef314> &lt;algorithm&gt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 100010</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> N;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> edge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>{</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> to, w;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> rate;};</span></span>
<span class="line" data-v-9d8ef314></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>edge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> e[M];</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dis[N],n,m,s;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> ans;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> vis[N],vi[N];</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dfn[N],low[N],cnt,tot,col[N];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-9d8ef314> // 增加了一个用于记录缩点后的颜色数组</span></span>
<span class="line" data-v-9d8ef314></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-9d8ef314> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	dfn[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>cnt;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	stack</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> st;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	vi[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	st.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(u);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v : e[u]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>dfn[v.to]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>			tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(v.to);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>			low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(low[u], low[v.to]);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(vi[v.to]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>			low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(low[u], dfn[v.to]);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dfn[u]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		tot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>        do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> {</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>            v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> st.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>();</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>            st.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>pop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>();</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>            col[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> tot;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>            vi[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> (v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> u);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>}</span></span>
<span class="line" data-v-9d8ef314></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> spfa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-9d8ef314> s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	deque</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> q;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>	memset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(dis, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>, sizeof dis);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>	memset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(vis,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>, sizeof vis);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>push_front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(s);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	dis[s] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	vis[s] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>()){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>		int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>();</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>pop_front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>();</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		vis[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>		for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v : e[u]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>			if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(dis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dis[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v.w){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>				dis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dis[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v.w;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>				v.w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v.rate;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>				if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>vis[v.to]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>					vis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>					if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> dis[q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>()]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>						q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>push_front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(v.to);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>					}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>{</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>						q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(v.to);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>					}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>				}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>			}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>}</span></span>
<span class="line" data-v-9d8ef314></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> m;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> m; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>		int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> u , v, w;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>		double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> rate;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> rate;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		e[u].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(edge{v,w,rate});</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> s;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>	spfa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(s);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> n; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>) {</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>dfn[i]) {</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314>            tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(i);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>        }</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>    }</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>    vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314> long&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(tot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>    	int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> col[i];</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>    	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v : e[i]){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>    		sum[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(sum[v.to], sum[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> v.w);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>    	}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>    }</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> s){</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>			ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-9d8ef314> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>(ans, dis[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> sum[col[i]]);</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>		}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	}</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>	cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314> endl;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-9d8ef314>	return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-9d8ef314> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>;</span></span>
<span class="line" data-v-9d8ef314><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-9d8ef314>}</span></span></code></pre></div>`,2)]))}const r=s(n,[["render",h],["__scopeId","data-v-9d8ef314"]]);export{f as __pageData,r as default};
