import{_ as s,c as i,a2 as e,o as t}from"./chunks/framework.BQmytedh.js";const r=JSON.parse('{"title":"P_5494_模板_线段树分裂","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P_5494_模板_线段树分裂.md","filePath":"cpp/1984-01/P_5494_模板_线段树分裂.md"}'),k={name:"cpp/1984-01/P_5494_模板_线段树分裂.md"};function h(n,a,p,l,d,E){return t(),i("div",null,a[0]||(a[0]=[e(`<h1 id="p-5494-模板-线段树分裂" tabindex="-1" data-v-beae36f3>P_5494_模板_线段树分裂 <a class="header-anchor" href="#p-5494-模板-线段树分裂" aria-label="Permalink to &quot;P_5494_模板_线段树分裂&quot;" data-v-beae36f3>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-beae36f3><button title="Copy Code" class="copy" data-v-beae36f3></button><span class="lang" data-v-beae36f3>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-beae36f3><code data-v-beae36f3><span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3> &lt;iostream&gt;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3> &lt;cstring&gt;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3> &lt;algorithm&gt;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> long</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> mid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> ((l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>r)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>)</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>200005</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> n,m,tot,root[N];</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> ls[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>],rs[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>]; ll sum[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //权值个数</span></span>
<span class="line" data-v-beae36f3></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //合并</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>||!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>sum[y];</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  ls[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(ls[x],ls[y]);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  rs[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(rs[x],rs[y]);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> x;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>}</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3>y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>ll</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //分裂</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3>  //将x从k处斩断，前k小的归x，后面的归y</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>k) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>tot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //开点</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  ll s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>sum[ls[x]];</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3>  //swap:右子树归y，x的右子树变成0</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>s) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(ls[x],ls[y],k),</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(rs[x],rs[y]);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(rs[x],rs[y],k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>s);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  sum[y]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>k; sum[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>k;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>}</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3>u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //点修</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>u) u</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>tot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //开点</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  sum[u]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>k;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(ls[u],l,mid,p,k);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(rs[u],mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,r,p,k);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>}</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>ll</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //区查</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>l) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> sum[u];</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(ls[u],l,mid,x,y)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(rs[u],mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,r,x,y);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>}</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-beae36f3> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //第k小</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> l;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>sum[ls[u]]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(ls[u],l,mid,k);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(rs[u],mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,r,k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>sum[ls[u]]);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>}</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(){</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>  scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>n,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>m);</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> op,p,x,y,cnt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>)</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>    scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x),</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,n,i,x);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>m;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>    scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>op);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //[x,y]移动到新可重集cnt</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>      ll k1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,n,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,y),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //[1,y]的个数</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>         k2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,n,x,y);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //[x,y]的个数</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>      int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3> tmp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>;</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],root[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>cnt],k1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>k2);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[cnt],tmp,k2);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>      root[p]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],tmp);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>    }</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //可重集y放入x</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>      root[x]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[x],root[y]);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>    }</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //加入x个数字y</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,n,y,x);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>    }</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(op</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //查询[x,y]个数</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>y);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%lld\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,n,x,y));</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>    }</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>{</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-beae36f3> //查询第x小</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>      scanf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>p,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(sum[root[p]]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>x) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>);</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-beae36f3>      else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3> printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>%d\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-beae36f3>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-beae36f3>kth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>(root[p],</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-beae36f3>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>,n,x));</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>    }</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>  }</span></span>
<span class="line" data-v-beae36f3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-beae36f3>}</span></span></code></pre></div>`,2)]))}const v=s(k,[["render",h],["__scopeId","data-v-beae36f3"]]);export{r as __pageData,v as default};
