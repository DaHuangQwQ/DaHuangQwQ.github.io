import{_ as s,c as i,a2 as t,o as n}from"./chunks/framework.BQmytedh.js";const v=JSON.parse('{"title":"P_4114_Qtree_1","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P_4114_Qtree_1.md","filePath":"cpp/1984-01/P_4114_Qtree_1.md"}'),h={name:"cpp/1984-01/P_4114_Qtree_1.md"};function k(e,a,l,p,d,E){return n(),i("div",null,a[0]||(a[0]=[t(`<h1 id="p-4114-qtree-1" tabindex="-1" data-v-858e1c51>P_4114_Qtree_1 <a class="header-anchor" href="#p-4114-qtree-1" aria-label="Permalink to &quot;P_4114_Qtree_1&quot;" data-v-858e1c51>â€‹</a></h1><div class="language-cpp vp-adaptive-theme" data-v-858e1c51><button title="Copy Code" class="copy" data-v-858e1c51></button><span class="lang" data-v-858e1c51>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-858e1c51><code data-v-858e1c51><span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &lt;iostream&gt;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &lt;cmath&gt;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &lt;algorithm&gt;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51> long</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51>&quot;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 200010</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> n, idx, head[N], a[N], b[N];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-858e1c51>//</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>{</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> to, next, w;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>} e[N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> w</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    e[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>idx].to </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    e[idx].w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> w;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    b[idx] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> w;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    e[idx].next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> head[u];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    head[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> idx;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-858e1c51>//</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> fa[N],son[N],deep[N],size[N],top[N],id[N],cnt, nval[N];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> father</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> father;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    deep[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> deep[father] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> head[u]; i ; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> e[i].next){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> e[i].to;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> father) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        a[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> b[i];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>        dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(v, u);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> size[v];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(size[son[u]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> size[v]) son[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    top[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> t;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    id[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>cnt;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    nval[cnt] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> u;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(son[u], t);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> head[u];i; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> e[i].next){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> e[i].to;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>        dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(v, v);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-858e1c51>//</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>{</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> l, r;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    ll sum, add;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}tr[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> lson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> rson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(tr[lson].sum , tr[rson].sum);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> l;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    tr[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> r;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> r){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> a[nval[l]];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(lson, l, mid);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, r);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(k);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> r){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> val;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(lson, l , mid, x, val);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> , r, x, val);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(k);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> tr[k].r){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> tr[k].sum;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> (tr[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> tr[k].r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(res,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(lson, l, r));</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(rson, l, r));</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> res;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-858e1c51> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(top[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> top[y]){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(deep[top[x]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> deep[top[y]]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(x, y);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, id[top[x]], id[x]));</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> fa[top[x]];</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(deep[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> deep[y]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(x, y);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>, id[x], id[y]));</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> res;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> n;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> u,v,w; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> w;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(u, v, w);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(v, u, w);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>,n);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        string op; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> op;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &quot;DONE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> u,v; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &quot;QUERY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> v)</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>                cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> endl;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>            else</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>                cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(u, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51> endl;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-858e1c51> &quot;CHANGE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>){</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-858e1c51>            changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>,n,id[u],v);</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>        }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>    }</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-858e1c51>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-858e1c51> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>;</span></span>
<span class="line" data-v-858e1c51><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-858e1c51>}</span></span></code></pre></div>`,2)]))}const r=s(h,[["render",k],["__scopeId","data-v-858e1c51"]]);export{v as __pageData,r as default};
