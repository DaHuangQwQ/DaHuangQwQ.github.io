import{_ as a,c as s,o as i,V as d}from"./chunks/framework.jgiY9GFO.js";const y=JSON.parse('{"title":"P_4092_HEOI_2016_TJOI_2016_树","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P_4092_HEOI_2016_TJOI_2016_树.md","filePath":"cpp/1984-01/P_4092_HEOI_2016_TJOI_2016_树.md"}'),t={name:"cpp/1984-01/P_4092_HEOI_2016_TJOI_2016_树.md"},n=d(`<h1 id="p-4092-heoi-2016-tjoi-2016-树" tabindex="-1" data-v-a9762ed0>P_4092_HEOI_2016_TJOI_2016_树 <a class="header-anchor" href="#p-4092-heoi-2016-tjoi-2016-树" aria-label="Permalink to &quot;P_4092_HEOI_2016_TJOI_2016_树&quot;" data-v-a9762ed0>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-a9762ed0><button title="Copy Code" class="copy" data-v-a9762ed0></button><span class="lang" data-v-a9762ed0>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-a9762ed0><code data-v-a9762ed0><span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a9762ed0> &lt;algorithm&gt;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a9762ed0> &lt;cstring&gt;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a9762ed0> &lt;iostream&gt;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> long</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 100000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> n,m,a[N],b[N];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a9762ed0>//</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>{</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> to, next;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}e[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> head[N],idx;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    e[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>idx].to </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> v;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    e[idx].next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> head[u];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    head[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> idx;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a9762ed0>//</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> fa[N],son[N],siz[N],dep[N],id[N],top[N],tot;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> father</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    siz[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    dep[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> dep[father] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    fa[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> father;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> head[x];i;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> e[i].next){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> e[i].to;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> father) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>        dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(y, x);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        siz[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> siz[y];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(siz[son[x]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> siz[y]) son[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> y;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    top[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> k;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    id[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>tot;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    a[tot] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> b[x];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>son[x]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(son[x], k);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> head[x];i;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> e[i].next){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> e[i].to;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> fa[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> son[x]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>        dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(y, y);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a9762ed0>//</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>{</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> sum;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}tr[N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> lson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> rson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> mid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> ((l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>)</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(tr[lson].sum , tr[rson].sum);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> r){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(lson, l, mid);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, r);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(k);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> r){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        tr[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> val;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> ;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(lson, l, mid, p);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, r,p);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(k);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> tr[k].sum;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(lson,l,mid,x,y));</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> mid) res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(rson,mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,r,x,y));</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> res;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a9762ed0> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(top[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> top[y]){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(dep[top[x]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> dep[top[y]]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(x, y);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,n, id[top[x]], id[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> fa[top[x]];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>!=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> id[res];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(dep[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> dep[y]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(x, y);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,n,id[x],id[y] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> id[res];</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> m;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,u,v;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> v;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(u,v),</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(v,u);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,n);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>    changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,n,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> opt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> a; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> a;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a9762ed0> &#39;Q&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>            cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(a,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0> endl;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a9762ed0> &#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>){</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a9762ed0>            changePoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>,n,a);</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>        }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>    }</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a9762ed0>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a9762ed0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>;</span></span>
<span class="line" data-v-a9762ed0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a9762ed0>}</span></span></code></pre></div>`,2),h=[n];function k(e,l,p,E,v,r){return i(),s("div",null,h)}const F=a(t,[["render",k],["__scopeId","data-v-a9762ed0"]]);export{y as __pageData,F as default};
