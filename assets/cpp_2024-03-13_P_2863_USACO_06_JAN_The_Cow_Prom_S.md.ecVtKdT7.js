import{_ as a,c as s,o as i,V as t}from"./chunks/framework.jgiY9GFO.js";const r=JSON.parse('{"title":"P_2863_USACO_06_JAN_The_Cow_Prom_S","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/2024-03-13/P_2863_USACO_06_JAN_The_Cow_Prom_S.md","filePath":"cpp/2024-03-13/P_2863_USACO_06_JAN_The_Cow_Prom_S.md"}'),n={name:"cpp/2024-03-13/P_2863_USACO_06_JAN_The_Cow_Prom_S.md"},h=t(`<h1 id="p-2863-usaco-06-jan-the-cow-prom-s" tabindex="-1" data-v-bfb95e07>P_2863_USACO_06_JAN_The_Cow_Prom_S <a class="header-anchor" href="#p-2863-usaco-06-jan-the-cow-prom-s" aria-label="Permalink to &quot;P_2863_USACO_06_JAN_The_Cow_Prom_S&quot;" data-v-bfb95e07>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-bfb95e07><button title="Copy Code" class="copy" data-v-bfb95e07></button><span class="lang" data-v-bfb95e07>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-bfb95e07><code data-v-bfb95e07><span class="line" data-v-bfb95e07><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>// #include&lt;bits/stdc++.h&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &lt;iostream&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &lt;assert.h&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &lt;algorithm&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &lt;cstring&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &lt;queue&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &lt;vector&gt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> long</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>&quot;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>typedef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> pair</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&lt;int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> PII;</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#ifdef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> LOCAL_MACHINE</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>arg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>...) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(format, ##arg)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> debug_info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, ...) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\033</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>[1m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\033</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>[45;33m Info:[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>)]: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\033</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>[0m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> format </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>__FILE__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>__FUNCTION__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>__LINE__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, ##__VA_ARGS__);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#else</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>arg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>...) ;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> debug_info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, ...)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#endif</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> zassert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07>s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    do</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>                         \\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    {                          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> ((x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        {                      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>            printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>%s\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-bfb95e07>&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>, s); </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>            assert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>((x));       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        }                      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>\\</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>// https://www.luogu.com.cn/problem/P2863</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> n, m, a, b;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&lt;int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> e[N];</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> dfn[N], low[N], tot;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> stk[N], instk[N], top;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> scc[N], siz[N], cnt;</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-bfb95e07> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>{</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>    // 入x时，盖戳、入栈</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    dfn[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> low[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>tot;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    stk[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>top] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> x, instk[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> y : e[x])</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    {</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>dfn[y])</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07> // 若y尚未访问</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>            tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(y);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>            low[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(low[x], low[y]);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07> // 回x时更新low</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        }</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (instk[y])</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>                // 若y已访问且在栈中</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>            low[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(low[x], dfn[y]);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07> // 在x时更新low</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    }</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>    // 离x时，收集SCC</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (dfn[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> low[x])</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07> // 若x是SCC的根</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> y;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>cnt;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        do</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        {</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>            y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> stk[top</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>];</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>            instk[y] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>            scc[y] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> cnt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07> // SCC编号</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>            ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>siz[cnt];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>   // SCC大小</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> x);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    }</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>}</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> solve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>()</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>{</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> m;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>        cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> b, e[a].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(b);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> n; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07> // 可能不连通</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>dfn[i])</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>            tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(i);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> cnt; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (siz[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>            ans</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> endl;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>}</span></span>
<span class="line" data-v-bfb95e07></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>signed</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>()</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>{</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>    ios</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>sync_with_stdio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    cin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    cout.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>);</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-bfb95e07>    // cin &gt;&gt; n;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07> (n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>)</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    {</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-bfb95e07>        solve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>();</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>    }</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-bfb95e07>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-bfb95e07> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>;</span></span>
<span class="line" data-v-bfb95e07><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-bfb95e07>}</span></span></code></pre></div>`,2),k=[h];function e(l,p,b,d,E,f){return i(),s("div",null,k)}const g=a(n,[["render",e],["__scopeId","data-v-bfb95e07"]]);export{r as __pageData,g as default};
