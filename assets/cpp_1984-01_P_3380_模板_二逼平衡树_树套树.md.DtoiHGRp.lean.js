import{_ as s,c as i,a2 as t,o as n}from"./chunks/framework.BQmytedh.js";const v=JSON.parse('{"title":"P_3380_模板_二逼平衡树_树套树","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P_3380_模板_二逼平衡树_树套树.md","filePath":"cpp/1984-01/P_3380_模板_二逼平衡树_树套树.md"}'),k={name:"cpp/1984-01/P_3380_模板_二逼平衡树_树套树.md"};function h(l,a,p,d,E,c){return n(),i("div",null,a[0]||(a[0]=[t(`<h1 id="p-3380-模板-二逼平衡树-树套树" tabindex="-1" data-v-b5fc6aa0>P_3380_模板_二逼平衡树_树套树 <a class="header-anchor" href="#p-3380-模板-二逼平衡树-树套树" aria-label="Permalink to &quot;P_3380_模板_二逼平衡树_树套树&quot;" data-v-b5fc6aa0>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-b5fc6aa0><button title="Copy Code" class="copy" data-v-b5fc6aa0></button><span class="lang" data-v-b5fc6aa0>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-b5fc6aa0><code data-v-b5fc6aa0><span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-b5fc6aa0> &lt;iostream&gt;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-b5fc6aa0> &lt;algorithm&gt;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> IOS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>                      \\</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    ios</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>sync_with_stdio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>); </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>\\</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    cin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>);                  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>\\</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    cout.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> lson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0>x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>) tr[x].s[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>]</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0>x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>) tr[x].s[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>]</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> long</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> INF</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 2147483647</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-b5fc6aa0> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-b5fc6aa0>&quot;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 50005</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>ll n, m, w[N];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-b5fc6aa0>// splay</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> idx;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>struct</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> s[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    ll p, val, cnt, size;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ll</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> _p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ll</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> _val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> _p;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> _val;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>} tr[N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[x].size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(x)].size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(x)].size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[x].cnt;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[x].p;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> z </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[y].p;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> x;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[z].s[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(z) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> x;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[x].p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> z;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[y].s[k] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[x].s[k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[tr[x].s[k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>]].p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[x].s[k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[y].p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> x;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(y);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(x);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> splay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0>root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (tr[x].p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> k)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[x].p;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> z </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[y].p;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (z </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> k)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>^</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(z) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(y);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>        rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(x);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>k)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        root </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> x;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0>root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> root, p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (u)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u, u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[u].s[v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[u].val];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>idx;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[p].s[v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[p].val] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    tr[u].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(p, v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    splay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root, u, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> del</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> &amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0>root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> root;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (u)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (tr[u].val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (tr[u].val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        else</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    splay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root, u, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u), r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(l))</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(l);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(r))</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(r);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    splay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root, l, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    splay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root, r, l);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    splay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root, r, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> getRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> root, res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (u)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (tr[u].val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u)].size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        else</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> getPre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> root, res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>INF;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (u)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (tr[u].val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[u].val;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        else</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> getNxt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> root, res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> INF;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (u)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (tr[u].val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> tr[u].val;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        else</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> rs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(u);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-b5fc6aa0>// xianduanshu</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> root[N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>INF);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], INF);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>        insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], w[i]);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(lson, l, mid);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(rson, mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, r);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> queryRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> getRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    ll res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> queryRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(lson, l, mid, x, y, v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> queryRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(rson, mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, r, x, y, v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> queryVal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>queryRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, n, x, y, mid) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> &lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        else</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> pos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    del</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], w[pos]);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (pos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>        change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(lson, l, mid, pos, v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    else</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>        change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(rson, mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, r, pos, v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> querypre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> getPre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>INF;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>querypre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(lson, l, mid, x, y, v));</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>querypre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(rson, mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, r, x, y, v));</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> querynxt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-b5fc6aa0> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> y)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> getNxt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(root[k], v);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> INF;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>querynxt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(lson, l, mid, x, y, v));</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> mid)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(res, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>querynxt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(rson, mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, r, x, y, v));</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> res;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>()</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>{</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    IOS</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> m;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> n; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> w[i];</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, n);</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    {</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> op, l, r, v;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>        cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> v;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> queryRank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, n, l, r, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> endl;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> queryVal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, l, r, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> endl;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0>            change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, n, l, r), w[l] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> r;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> querypre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, n, l, r, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> endl;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> (op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>)</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>            cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-b5fc6aa0> querynxt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>, n, l, r, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0> endl;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>    }</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-b5fc6aa0>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-b5fc6aa0> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>;</span></span>
<span class="line" data-v-b5fc6aa0><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-b5fc6aa0>}</span></span></code></pre></div>`,2)]))}const f=s(k,[["render",h],["__scopeId","data-v-b5fc6aa0"]]);export{v as __pageData,f as default};
