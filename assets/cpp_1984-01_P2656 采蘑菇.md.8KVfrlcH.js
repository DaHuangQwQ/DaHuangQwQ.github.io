import{_ as a,c as s,o as i,V as t}from"./chunks/framework.WykxUCM3.js";const g=JSON.parse('{"title":"P2656 采蘑菇","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01/P2656 采蘑菇.md","filePath":"cpp/1984-01/P2656 采蘑菇.md"}'),d={name:"cpp/1984-01/P2656 采蘑菇.md"},n=t(`<h1 id="p2656-采蘑菇" tabindex="-1" data-v-085d15c7>P2656 采蘑菇 <a class="header-anchor" href="#p2656-采蘑菇" aria-label="Permalink to &quot;P2656 采蘑菇&quot;" data-v-085d15c7>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-085d15c7><button title="Copy Code" class="copy" data-v-085d15c7></button><span class="lang" data-v-085d15c7>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-085d15c7><code data-v-085d15c7><span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-085d15c7> &lt;iostream&gt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-085d15c7> &lt;deque&gt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-085d15c7> &lt;vector&gt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-085d15c7> &lt;cstring&gt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-085d15c7> &lt;stack&gt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-085d15c7> &lt;algorithm&gt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 100010</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> N;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> edge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>{</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> to, w;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> rate;};</span></span>
<span class="line" data-v-085d15c7></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>edge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> e[M];</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dis[N],n,m,s;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> ans;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> vis[N],vi[N];</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dfn[N],low[N],cnt,tot,col[N];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-085d15c7> // 增加了一个用于记录缩点后的颜色数组</span></span>
<span class="line" data-v-085d15c7></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-085d15c7> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	dfn[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>cnt;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	stack</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> st;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	vi[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	st.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(u);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v : e[u]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>dfn[v.to]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>			tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(v.to);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>			low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(low[u], low[v.to]);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(vi[v.to]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>			low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(low[u], dfn[v.to]);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(low[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dfn[u]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		tot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>        do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> {</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>            v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> st.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>();</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>            st.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>pop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>();</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>            col[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> tot;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>            vi[v] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> (v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> u);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>}</span></span>
<span class="line" data-v-085d15c7></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> spfa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-085d15c7> s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	deque</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;int&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> q;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>	memset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(dis, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>, sizeof dis);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>	memset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(vis,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>, sizeof vis);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>push_front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(s);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	dis[s] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	vis[s] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>()){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>		int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>();</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>pop_front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>();</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		vis[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>		for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v : e[u]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>			if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(dis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dis[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v.w){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>				dis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dis[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v.w;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>				v.w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v.rate;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>				if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>vis[v.to]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>					vis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>					if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dis[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> dis[q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>()]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>						q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>push_front</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(v.to);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>					}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>{</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>						q.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(v.to);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>					}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>				}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>			}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>}</span></span>
<span class="line" data-v-085d15c7></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> m;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> m; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>		int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> u , v, w;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>		double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> rate;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> rate;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		e[u].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(edge{v,w,rate});</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> s;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>	spfa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(s);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> n; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>) {</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>dfn[i]) {</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7>            tarjan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(i);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>        }</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>    }</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>    vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7> long&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(tot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>    	int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> col[i];</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>    	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v : e[i]){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>    		sum[v.to] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(sum[v.to], sum[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> v.w);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>    	}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>    }</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> s){</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>			ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-085d15c7> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>(ans, dis[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> sum[col[i]]);</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>		}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	}</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>	cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7> endl;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-085d15c7>	return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-085d15c7> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>;</span></span>
<span class="line" data-v-085d15c7><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-085d15c7>}</span></span></code></pre></div>`,2),h=[n];function k(l,p,E,c,e,v){return i(),s("div",null,h)}const y=a(d,[["render",k],["__scopeId","data-v-085d15c7"]]);export{g as __pageData,y as default};
