import{_ as a,c as d,o as s,V as i}from"./chunks/framework.jgiY9GFO.js";const r=JSON.parse('{"title":"P_3178_HAOI_2015_树上操作","description":"","frontmatter":{},"headers":[],"relativePath":"cpp/1984-01-24/P_3178_HAOI_2015_树上操作.md","filePath":"cpp/1984-01-24/P_3178_HAOI_2015_树上操作.md"}'),t={name:"cpp/1984-01-24/P_3178_HAOI_2015_树上操作.md"},n=i(`<h1 id="p-3178-haoi-2015-树上操作" tabindex="-1" data-v-ac8dd3df>P_3178_HAOI_2015_树上操作 <a class="header-anchor" href="#p-3178-haoi-2015-树上操作" aria-label="Permalink to &quot;P_3178_HAOI_2015_树上操作&quot;" data-v-ac8dd3df>​</a></h1><div class="language-cpp vp-adaptive-theme" data-v-ac8dd3df><button title="Copy Code" class="copy" data-v-ac8dd3df></button><span class="lang" data-v-ac8dd3df>cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" data-v-ac8dd3df><code data-v-ac8dd3df><span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-ac8dd3df> &lt;iostream&gt;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> endl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-ac8dd3df> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-ac8dd3df>&quot;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> IOS</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> ios</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>sync_with_stdio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);cin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);cout.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>tie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df> long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df> long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> ll;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> N </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1000005</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>{</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> to, next;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>} e[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>N];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> head[N],idx;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>idx;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    e[idx].to </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> v;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    e[idx].next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> head[u];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    head[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> idx;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>ll n,m,a[N],b[N];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-ac8dd3df>// 树链剖分</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>ll top[N],fa[N],son[N],id[N],deep[N],size[N],cnt;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> father</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    deep[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> deep[father] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> father;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> head[u]; i ; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> e[i].next){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> e[i].to;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> father) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>        dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(v, u);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        size[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> size[v];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(size[son[u]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> size[v]) son[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> v;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    id[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>cnt;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    top[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> t;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    a[cnt] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> b[u];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(son[u], t);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> head[u]; i; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> e[i].next){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> e[i].to;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> fa[u] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> son[u]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>        dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(v,v);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-ac8dd3df>// 线段树</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>{</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> l,r;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    ll add, sum;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>} tree[N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> lson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> rson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> lson</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span></span>
<span class="line" data-v-ac8dd3df></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[lson].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[rson].sum);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> pushdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>tree[k].add) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[lson].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[lson].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[lson].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[rson].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[rson].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[rson].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[lson].add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].add;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[rson].add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].add;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[k].add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> l;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    tree[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> r;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> r){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        tree[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> a[l];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(lson, l, mid);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(rson, mid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, r);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(k);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>ll</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    ll ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> r){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].sum;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    pushdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(k);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid) ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(lson, l, r);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid) ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(rson, l , r);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> ans;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> addInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>ll</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> r){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        tree[k].add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> val;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        tree[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[k].r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    pushdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(k);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>addInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(lson, l, r, val);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid)  </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>addInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(rson, l, r, val);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(k);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>ll</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    ll ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(top[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> top[y]){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(deep[top[x]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> deep[top[y]]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(x, y);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, id[top[x]], id[x]);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> fa[top[x]];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(id[x] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> id[y]) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>swap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(x, y);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    ans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, id[x], id[y]);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> ans;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> addPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-ac8dd3df> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].r){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        tree[k].sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> val;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> (tree[k].l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> tree[k].r) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    pushdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(k);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> mid) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>addPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(lson, x, val);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> addPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(rson, x, val);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    pushup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(k);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span>
<span class="line" data-v-ac8dd3df></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-ac8dd3df>    //  freopen(&quot;P3178_2.in&quot;,&quot;r&quot;,stdin);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> m;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> b[i];</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>;i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> n;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> a,b; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> b;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(a,b);</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(b,a);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    dfs1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    dfs2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>,n);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        ll op,a,b; cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> op;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>            cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> b;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>            addPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, id[a], b);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>            cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> b;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df>            addInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, id[a], id[a] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> size[a] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, b);</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(op </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>){</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>            cin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> a;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>            cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-ac8dd3df> queryRoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-ac8dd3df>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>, a) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-ac8dd3df>&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df> endl;</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>        }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>    }</span></span>
<span class="line" data-v-ac8dd3df><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-ac8dd3df>}</span></span></code></pre></div>`,2),k=[n];function h(l,p,E,c,e,f){return s(),d("div",null,k)}const g=a(t,[["render",h],["__scopeId","data-v-ac8dd3df"]]);export{r as __pageData,g as default};
