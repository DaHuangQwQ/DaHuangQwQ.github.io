<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>redis | hjywiki</title>
    <meta name="description" content="编程笔记">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.CneJzl2R.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Ds0RPYq6.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.bP1L4KVg.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BQmytedh.js">
    <link rel="modulepreload" href="/assets/labnote_go_redis.md.DBdnNnw4.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>hjywiki</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/system/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>系统知识</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/labnote/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>学习笔记</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/algorithm/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>算法</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/cpp/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>算法题解</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/DaHuangQwQ" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/DaHuangQwQ" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><!----><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/index.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>转 go 语言的学习之路</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>vue</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/vue/tools.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>tools</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible has-active" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>go</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>负载均衡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E6%9C%AC%E5%9C%B0%E6%B6%88%E6%81%AF%E8%A1%A8.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>本地消息表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>服务注册与发现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>服务治理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E5%BE%AE%E6%9C%8D%E5%8A%A1.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>微服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>分库分表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E7%B3%BB%E7%BB%9F.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>分布式任务调度系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/%E4%B8%8D%E5%81%9C%E6%9C%BA%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>不停机数据迁移</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><!----><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/system.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>系统设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/redis.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>redis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/raft.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Raft</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/quant.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>量化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/python.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>python</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/os.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>操作系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/langgraph.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>LangGraph</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/langchain.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>LangChain</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/kubernetes.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>kubernetes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/kafka.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>kafka</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/golang.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>golang</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/etcd.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>etcd</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/epoll.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>epoll</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/elasticsearch.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>ElasticSearch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/ds.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>分布式系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/docker.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/cache.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/blocklist.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>区块链</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/auth.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>安全验证</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/labnote/go/Mysql.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Mysql</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _labnote_go_redis" data-v-39a288b8><div><h1 id="redis" tabindex="-1">redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;redis&quot;">​</a></h1><h2 id="redis-高性能" tabindex="-1">redis 高性能 <a class="header-anchor" href="#redis-高性能" aria-label="Permalink to &quot;redis 高性能&quot;">​</a></h2><ul><li>数据存储在内存中</li><li>单线程时间驱动模型，IO多路复用，避免多线程上下文切换和竞态条件</li><li>多种高效的数据结构</li></ul><blockquote><p>redis 6.0 之后性能瓶颈在 网络IO，引用了多线程处理提高网络IO</p></blockquote><h2 id="redis-应用场景" tabindex="-1">redis 应用场景 <a class="header-anchor" href="#redis-应用场景" aria-label="Permalink to &quot;redis 应用场景&quot;">​</a></h2><ul><li>String类型，首先是热点数据的缓存，再者比较多的就是通过它的incr实现计数，来统计点赞数，播放量，访问量场景，以及进行全局id的生成。而后比较高端就是实现分布式锁，以及布隆过滤器；</li><li>Hash类型，则用在比如说用户不同场景维度的发私信的频控，以及电商类的客户的购物车信息，抖音作品的播放、点赞、收藏等系列数据；</li><li>List 类型，适用于有序但不频繁随机访问的场景，用的比较少。例如说用来实现限流算法，以及关注列表等；</li><li>Set类型，使用在比如说在社交类的场景里面可以用于用户推荐、好友关系（例如我关注了谁，谁关注了我，哪些是互关好友）、存储共同关注的人，推荐可能认识的人等；</li><li>ZSet类型，使用场景如最近听歌数据，最近联系的人，送礼排行榜，热搜榜；</li></ul><ol><li>缓存，一般来说根据缓存的数据不同，可以是缓存字符串，或者是 List 结构、哈希结构。一般来说引入 Redis 作为缓存之后，性能会有数量级的提升</li><li>滑动窗口算法，用于限流。其基本的思路就是用 List 来维持住流量进来的时间戳，而后每次判定限流的时候则是判定时间窗内有多少时间戳，也就是已经有多少流量了，而这本质上就是一个 Range 的用法。当然在实现的过程中是使用 Lua 脚本来完成的</li><li>榜单问题。这个榜单问题的核心就是利用 ZSet 来排序，对应的 score 则是根据排序规则来计算。比如说根据时间、点赞和评论数等计算一个热度，把这个热度作为 score。每次获取前几名，也就是执行一次 Range 而已。</li><li>分布式锁。使用 Redis 来设计分布式锁的关键点有两个：使用 SETNX 来排他性的设置一个值；要考虑续约的问题。也就是在设置了一定的过期时间之后，如果在快要过期了业务还没执行完毕，那么要考虑续约的问题，防止分布式锁因为过期而失效。</li></ol><h2 id="redis-数据结构" tabindex="-1">redis 数据结构 <a class="header-anchor" href="#redis-数据结构" aria-label="Permalink to &quot;redis 数据结构&quot;">​</a></h2><ul><li>字符串（String） <ul><li>底层实现：简单动态字符串（SDS）</li><li>特点：适用于存储单个值，如用户 session、缓存对象。</li><li>场景：大部分简单数据的缓存都是使用这个数据结构的</li></ul></li><li>列表（List） <ul><li>底层实现：有两种实现，ziplist，quicklist（链表）（难点）</li><li>特点：适用于存储有序元素，如消息队列、文章列表。</li><li>场景：例如说收藏夹中的收藏列表，好友列表等，有些公司还会用作消息队列。List 还有一个使用场景，就是可以用来实现滑动窗口算法，达成限流的效果。</li></ul></li><li>集合（Set） <ul><li>底层实现：hashtable 和 intset</li><li>特点：适用于存储无序且唯一元素，如标签、用户关注列表。</li><li>场景：很多都是利用集合求差集、并集或者交集。比如说共同好友、共同关注的人这种社交的应用。</li></ul></li><li>有序集合（Sorted Set） <ul><li>底层实现：skiplist（跳表，多层索引的链表） 和 ziplist</li><li>特点：适用于存储有序且唯一元素，如排行榜、时间线。</li><li>场景：最典型的就是各种榜单了，比如说游戏里面的分数排行，或者社交平台的各种榜单，电商平台的各种榜单。</li></ul></li><li>哈希（Hash） <ul><li>底层实现： ziplist 或 hashtable （取决于元素数量和大小）</li><li>特点：适用于存储对象属性，如用户信息、配置项。</li><li>场景：适合存储有很多属性的对象，比如说在用户系统中，使用 Redis 哈希存储用户信息，键为 user:userid，字段为 name、email 等，HSET 设置属性，HGET 获取属性，读写都可以只操作部分数据，减少数据冗余。</li></ul></li><li>地理空间（Geospatial） <ul><li>底层实现：有序集合（Sorted Set）的扩展</li><li>特点：适用于存储地理空间数据，如附近的人、位置服务。</li><li>场景：计算附近的人</li></ul></li><li>位图（Bitmap） <ul><li>底层实现：字符串（String）的位操作</li><li>特点：适用于存储布尔值，如用户签到、活跃用户统计。</li><li>场景：在社交平台中，使用 Redis 位图记录用户每日签到情况，键为 signin:userid，SETBIT 设置签到，GETBIT 查询签到，节省存储空间。</li></ul></li><li>HyperLogLog <ul><li>底层实现：HyperLogLog 算法</li><li>特点：适用于统计大量数据的基数，如 UV 统计。</li><li>场景：UV 统计，在网站分析系统中，使用 Redis HyperLogLog 统计每日 UV，键为 uv:date，PFADD 添加访问记录，PFCOUNT 获取 UV 数，高效处理大数据统计。</li></ul></li><li>流（Stream） <ul><li>底层实现：Rax 树和链表</li><li>特点：适用于消息队列和日志收集，支持持久化。</li><li>场景：在监控系统 中，使用 Redis 流收集日志信息，键为 log_stream，XADD 添加日志，XREAD 读取日志，支持持久化和高吞吐量。</li></ul></li></ul><p>选择 Redis 数据结构的基本原则：</p><ul><li>功能性：也就是你选择的 Redis 数据结构至少能支持你所需要的业务场景，能够解决你的业务问题</li><li>性能：内存要少，读写操作要快</li><li>底层实现的潜在问题：要进一步评估在你的业务数据特性下，你使用的数据结构对应的底层结构究竟是什么，防止出现 intset 那种升级问题，或者 ziplist 连锁更新的问题</li><li>扩展性：典型的就是在考虑存储一个大 JSON 串还是使用 Hash 结构，如果考虑到未来存在单字段的读写情况，那么使用扩展性的问题</li></ul><blockquote><p>功能性是基础，性能是目标，底层实现是防御，扩展是未来</p></blockquote><h3 id="哈希表" tabindex="-1">哈希表 <a class="header-anchor" href="#哈希表" aria-label="Permalink to &quot;哈希表&quot;">​</a></h3><p>Redis 的 hashtable 有两个核心特征：使用拉链法解决冲突，支持渐进式 rehash。</p><p>使用拉链法就意味着 hashtable 是一个数组加链表的混合结构，也就是每个数组的元素都是一个链表。在插入数据的时候，就在链表头部插入，这样更加高效。</p><p>在查找的时候，首先根据 key 算出哈希值，而后哈希值除以数组的长度得到下标，沿着下标所在的链表进行查找。</p><p>而渐进式的 rehash 则意味着在 hashtable 里面，有 ht[0] 和 ht[1] 两个标准的哈希表，它们也代表渐进式 rehash 中的旧表和新表。而不管是扩容还是缩容都是使用渐进式 rehash 来完成的。</p><p>渐进式 rehash 的过程包含三个主要步骤。</p><ol><li>ht[1] 上创建一个新容量的哈希表。</li><li>逐步把 ht[0] 上的数据迁移到 ht[1] 上。一方面，增删改查都会触发迁移，另外一方面 Redis 的后台任务循环也会主动迁移。</li><li>ht[0] 的数据迁移完成之后，交换 ht[0] 和 ht[1] 的指针，而后将 ht[1] 置为 NULL。</li></ol><p>（分析增删改查的过程）在渐进式的 rehash 过程中，如果是增加新的 key，那么会直接在 ht[1] 上操作。</p><p>如果是删改查已有的 key，那么就会先找 ht[0] 再找 ht[1]，找到之后就执行操作。</p><p>需要注意的是，渐进式过程中，一个 key 要么出现在 ht[0] 上，要么出现在 ht[1] 上。</p><h2 id="高可用" tabindex="-1">高可用 <a class="header-anchor" href="#高可用" aria-label="Permalink to &quot;高可用&quot;">​</a></h2><p>Redis 的高可用主要是源自两套方案：Redis Sentinel 和 Redis Cluster。</p><ol><li>Redis Sentinel（哨兵）本质上是一个主从集群，内部可以进一步细分为 Sentinel 集群和数据集群。Sentinel 集群监控数据集群，而后数据的首先是数据复制。也就是主节点和从节点保持数据同步，这样即便主节点崩溃了，从节点上也还有数据。其次是主从选举，也就是说主节点崩溃之后会立刻选举出来一个新的主节点，继续提供服务。不过 Redis Sentinel 的主从选举和一般主从选举有点区别，它不是从节点互相推举选出来的，而是 Sentinel 选出来的。</li><li>Redis Cluster（集群）是一个对等结构和主从结构的混合架构。Redis Cluster 由多个节点组成，这些节点之间地位是平等的，也就是说它们构成了一个对等结构。但是从细节上来说，每一个节点都是一个主从集群，也就是说每一个节点都是类似于 Redis Sentinel 模式。Redis Cluster 利用 CRC16 将 key 分散到 16384 个槽上面，而后再次将这些槽分配给不同的节点。可以平均分，也可以不是平均分。</li></ol><p>通过这种混合模式，Redis 能有效应对各种问题。</p><ol><li>从对等结构上来说，就算是某个节点彻底不可用，也不会影响到别的节点，整个集群还是能够提供有损服务的。</li><li>从主从结构上来说，通过数据同步和主从选举，这样即便主节点崩溃了， 也能选举出来一个新的从节点顶上。</li></ol><p>Redis Cluster 这种对等集群和主从集群的混合模式，在别的中间件里面也能看到类似的设计，甚至于可以说现代的大规模分布式软件的高可用都是通过这种设计来保证的。</p><ol><li>Kafka 的一个 Topic 有多个分区，这些分区之间地位是平等的，所以可以看做是对等结构。而每一个分区本身也是一个主从结构，也有数据复制和主从选举。所以Kafka 就算一个分区出问题，或者逻辑分区的主分区出现问题，依旧能够正常对外提供服务。</li><li>MySQL 的分库分表也可以看做是这种形态。一个逻辑表被分库分表之后，每一个物理表地位都是平等的，也就是可以看做是对等结构。而每一个物理表都是存储在 MySQL 主从集群上的，那么也就是说物理表本身也有主表和从表。通过这种混合模式可以保证极高的可用性。</li></ol><h3 id="redis-sentinel-哨兵机制" tabindex="-1">Redis Sentinel 哨兵机制 <a class="header-anchor" href="#redis-sentinel-哨兵机制" aria-label="Permalink to &quot;Redis Sentinel 哨兵机制&quot;">​</a></h3><p><strong>Redis 哨兵（Sentinel）机制</strong> 是 Redis 提供的一个高可用性（HA）解决方案，主要用于监控 Redis 主从集群的状态，自动进行故障转移（failover），以及提供服务发现和通知功能。它能够确保 Redis 集群在主节点出现故障时，自动切换到从节点，从而避免单点故障，提高系统的可用性和稳定性。</p><h3 id="redis-哨兵的核心功能" tabindex="-1">Redis 哨兵的核心功能 <a class="header-anchor" href="#redis-哨兵的核心功能" aria-label="Permalink to &quot;Redis 哨兵的核心功能&quot;">​</a></h3><ol><li><strong>监控主从节点状态</strong>：哨兵会定期检查 Redis 主节点和从节点的健康状态。如果主节点出现故障，哨兵会进行自动故障转移。</li><li><strong>自动故障转移</strong>：当哨兵检测到主节点不可用时，它会自动选举一个从节点提升为新的主节点，然后更新集群中的其他从节点指向新的主节点。</li><li><strong>通知和服务发现</strong>：哨兵可以向外部系统发送故障通知，并在故障转移完成后，提供新的主节点信息给客户端，从而使客户端能够继续访问正确的主节点。</li><li><strong>配置中心</strong>：哨兵可以充当一个配置中心的角色，客户端可以向哨兵查询当前主节点的地址，以便获取最新的主节点信息。</li></ol><h3 id="redis-cluster-集群" tabindex="-1">Redis Cluster（集群） <a class="header-anchor" href="#redis-cluster-集群" aria-label="Permalink to &quot;Redis Cluster（集群）&quot;">​</a></h3><p>Redis Cluster 是一个对等结构和主从结构的混合架构。Redis Cluster 由多个节点组成，这些节点之间地位是平等的，也就是说它们构成了一个对等结构。</p><p>但是从细节上来说，每一个节点都是一个主从集群，也就是说每一个节点都是类似于 Redis Sentinel 模式。</p><p><img src="/assets/redis-cluster.mwrSgGR1.png" alt="redis-cluster" loading="lazy"></p><p>Redis Cluster 利用 CRC16 将 key 分散到 16384 个槽上面，而后再次将这些槽分配给不同的节点。可以平均分，也可以不是平均分。</p><p><img src="/assets/redis-key.BLVlWMNy.png" alt="redis-key" loading="lazy"></p><p>通过这种混合模式，Redis 能有效应对各种问题。</p><p>首先是从对等结构上来说，就算是某个节点彻底不可用，也不会影响到别的节点，整个集群还是能够提供有损服务的。</p><p>而从主从结构上来说，通过数据同步和主从选举，这样即便主节点崩溃了， 也能选举出来一个新的从节点顶上。</p><p>Redis Cluster 能够撑住极高的并发，并且能够提供极高的可用性，所以已经成了当下大规模分布式系统里面的核心组件。</p><h3 id="槽分配" tabindex="-1">槽分配 <a class="header-anchor" href="#槽分配" aria-label="Permalink to &quot;槽分配&quot;">​</a></h3><p>Redis 集群支持自动分配槽，也支持手动分配，同时还支持再平衡。所谓的再平衡就是让 Redis 重新分配这些槽</p><p>Redis Cluster 的槽分配很简单，两句话就能说清楚：CRC16算哈希值，槽分配到节点。</p><p>也就是说，针对每一个 key，Redis Cluster 会用 CRC16 计算一个哈希值。而后这个哈希值会被映射过去 16384 （2 ^ 14）个槽上，Redis Cluster 再把这些槽分配到节点上。</p><p>Redis Cluster 使用 16384 个槽是<strong>为了在性能、资源消耗和可扩展性之间取得平衡</strong>。</p><p>当客户端读写 key 的时候，客户端可以在初始化的时候，使用 CLUSTER NODES 命令拿到槽分配的情况，而后自己利用 CRC16 计算哈希值，除以 16384 的余数就是槽编号，而后根据 CLUSTER NODES 返回的数据找出 key 所在的节点，将请求发送过去。</p><p>也可以不找，随便找一个节点发过去，如果这个节点发现 key 不在自己这里，就会返回一个 MOVED 响应，告诉客户端 key 所在节点的 IP 和端口。客户端收到 MOVED 之后就可以直接把请求发送过去对应的节点上。不过这种情况下，一个请求相当于发送了两次，性能极差。</p><p>Redis Cluster 这种槽机制，虽然很大程度上避免了数据倾斜的问题，但是还是难免会出现数据倾斜、QPS 倾斜之类的问题。</p><p>在这种情况下，最好的方案就是让 Redis Cluster 执行再平衡，重新分配一下槽。但是再平衡以及槽迁移是一个很消耗性能的问题，所以正常都不太建议这么搞。</p><p>而且，槽迁移只能解决节点级别的数据倾斜和QPS倾斜的问题。但是如果要是特定的槽上面数据就是极多，或者 QPS 极高，那么 Redis Cluster 的再平衡就无能为力。更进一步来说，如果是特定某个 key 的 QPS 极高——这也是常说的热点 key，那么 Redis Cluster 也是无能为力了。</p><h2 id="主从复制" tabindex="-1">主从复制 <a class="header-anchor" href="#主从复制" aria-label="Permalink to &quot;主从复制&quot;">​</a></h2><p>Redis 的主从复制就两个：</p><ol><li><strong>全量复制</strong>：在全量复制中，从节点从主节点那里复制整个数据集。这种策略适用于从节点初次加入或者数据丢失的情况。主节点会生成一个 RDB 快照，并将其发送给从节点，从节点加载这个快照来进行复制。全量复制的缺点是，如果数据集非常大，将会占用大量的网络带宽和时间。</li><li><strong>增量复制</strong>：部分重同步是一种增量复制方式，在从节点和主节点断线后重新连接时使用。主节点会将从断线期间执行的写命令发送给从节点，使得从节点能够只接收丢失的部分数据，以此保持数据的一致性。这种方式相对于全量复制来说，节省了大量的带宽和时间。</li></ol><p>综合来看，全量复制适用于初始化同步或数据丢失的情况，而部分重同步适用于从节点和主节点断线后的重新连接。</p><p>如果站在一个节点的角度，那么当一个节点加入了主从集群之后：</p><ol><li><strong>初始化同步</strong>：从服务器连接到主服务器并发送SYNC命令请求进行初始化同步。</li><li><strong>快照传输</strong>：如果主服务器没有持久化数据到磁盘，它将执行BGSAVE命令创建一个RDB快照文件。然后，主服务器将这个快照文件发送给从服务器。</li><li><strong>增量复制</strong>：一旦快照传输完成，主服务器将继续将写命令传输给从服务器，从服务器会逐步复制主服务器上的新写命令，从而保持数据的一致性。</li><li><strong>复制偏移量</strong>：主服务器会记录传输给从服务器的最后一条写命令的偏移量，当从服务器重新连接时，会根据这个偏移量来进行增量复制，从而不重复传输已经同步过的数据。</li></ol><h2 id="主从选举" tabindex="-1">主从选举 <a class="header-anchor" href="#主从选举" aria-label="Permalink to &quot;主从选举&quot;">​</a></h2><p>Redis Sentinel 集群的关键点：有一个 Redis 数据集群和一个 Redis Sentinel 集群的混合集群</p><p>你可以直接把 Redis Sentinel 看做是主从结构，而 Sentinel 就是为了解决主从选举而引入的。</p><ul><li><p>首先 Sentinel 获取了主从结构的信息，而后向所有的节点发送心跳检测。</p><ul><li>如果这个时候发现某个节点没有回复，就把它标记为主观下线；如果这个节点是主节点，那么 Sentinel 就询问别的 Sentinel 节点主节点信息。</li><li>如果大多数都 Sentinel 都认为主节点已经下线了，就认为主节点已经客观下线。</li></ul></li><li><p>当主节点已经客观下线，就要步入故障转移阶段。故障转移分成两个步骤，一个是 Sentinel 要选举一个 leader，另外一个步骤是 Sentinel leader 挑一个主节点。</p><ul><li>Sentinel leader 选举是使用 raft 算法的，选举出 leader 之后，leader 从健康从节点之中依据 &lt;优先级， 偏移量， 服务器ID&gt; 进行排序，挑出一个节点作为主节点。</li><li>找出主节点之后，Sentinel 要命令其它从节点连接新的主节点，同时保持对老的主节点的关注，在它恢复过来之后把它标记为从节点，命令它去同步新的主节点。</li></ul></li></ul><p>Redis Sentinel 和一般的主从选举有两个显著的差异。</p><ul><li>第一个是 Redis Sentinel 的主从选举并不是从节点自己推选的，而是 Sentinel 选出来的。这主要是为了： <ul><li>快速选举。Sentinel 直接挑选一个从节点要比从节点自己推举快很多，从而快速从故障中恢复；</li><li>实现简单。</li><li>独立管理。Sentinel 和数据集群是分开的，这意味着可以独立管理 Sentinel，而且不会影响数据集群；</li></ul></li><li>第二个是 Redis Sentinel 选主节点挑的是优先级（<strong>按照优先级</strong>、偏移量和服务 ID）最高的从节点，而不是有最新数据的从节点。**好处是可以借助优先级来做一些骚操作，坏处是从节点上可能没有最新数据。**最典型的场景就是在异步多活场景下，可以给本地同机房的节点更高的优先级，从而总是优先筛选本地节点。</li></ul><h2 id="数据过期删除" tabindex="-1">数据过期删除 <a class="header-anchor" href="#数据过期删除" aria-label="Permalink to &quot;数据过期删除&quot;">​</a></h2><ul><li>定期删除：Redis 每隔一定时间（默认是 100 毫秒）会随机检查一定数量的键，如果发现过期键，则将其删除</li><li>惰性删除：在每次访问键时，Redis 检查该键是否已过期</li></ul><h3 id="内存回收" tabindex="-1">内存回收 <a class="header-anchor" href="#内存回收" aria-label="Permalink to &quot;内存回收&quot;">​</a></h3><p>Redis 提供了几种内存回收策略（Eviction Policies），当 Redis 的内存使用超过配置的最大内存限制时，它会根据设置的策略来删除部分数据。以下是 Redis 常见的内存回收策略：</p><ol><li><strong>noeviction</strong><ul><li><strong>说明</strong>：当内存满时，Redis 不会删除任何键值对。如果尝试执行写操作（例如 <code>SET</code> 或 <code>LPUSH</code>）时会返回错误。</li><li><strong>适用场景</strong>：需要保证数据持久化的场景，或对丢失数据不敏感的场合。</li></ul></li><li><strong>allkeys-lru</strong><ul><li><strong>说明</strong>：当内存满时，Redis 会通过**最近最少使用（LRU, Least Recently Used）**算法删除最久未被访问的键。</li><li><strong>适用场景</strong>：当需要优先保留访问频繁的数据时，适合缓存使用场景。</li></ul></li><li><strong>volatile-lru</strong><ul><li><strong>说明</strong>：与 <code>allkeys-lru</code> 相似，但是只会在设置了过期时间的键中使用 LRU 算法删除最久未被访问的键。</li><li><strong>适用场景</strong>：当只有部分键有过期时间时，需要优先删除过期数据的场景。</li></ul></li><li><strong>allkeys-lfu</strong><ul><li><strong>说明</strong>：当内存满时，Redis 会通过**最少使用频率（LFU, Least Frequently Used）**算法删除最久未被访问的键。</li><li><strong>适用场景</strong>：当需要优先保留访问频繁的数据时，适合缓存使用场景。</li></ul></li><li><strong>volatile-lfu</strong><ul><li><strong>说明</strong>：与 <code>allkeys-lru</code> 相似，但是只会在设置了过期时间的键中使用 LRU 算法删除最久未被访问的键。</li><li><strong>适用场景</strong>：当只有部分键有过期时间时，需要优先删除过期数据的场景。</li></ul></li><li><strong>allkeys-random</strong><ul><li><strong>说明</strong>：当内存满时，Redis 会随机删除一个键，无论该键是否设置了过期时间。</li><li><strong>适用场景</strong>：适合负载较为均匀的缓存场景，且不关心具体删除哪一项数据。</li></ul></li><li><strong>volatile-random</strong><ul><li><strong>说明</strong>：与 <code>allkeys-random</code> 相似，但只会在设置了过期时间的键中随机删除一个键。</li><li><strong>适用场景</strong>：适用于只关心过期数据删除的场景。</li></ul></li><li><strong>volatile-ttl</strong><ul><li><strong>说明</strong>：当内存满时，Redis 会删除设置了过期时间且剩余生存时间（TTL）最短的键。</li><li><strong>适用场景</strong>：适合需要根据键的过期时间优先删除即将过期的数据的场景。</li></ul></li></ol><h2 id="pipeline" tabindex="-1">PipeLine <a class="header-anchor" href="#pipeline" aria-label="Permalink to &quot;PipeLine&quot;">​</a></h2><p><strong>Redis Pipeline</strong> 是 Redis 提供的一种机制，允许你在一个请求中批量发送多个命令，而不是逐个发送命令和等待响应。这样可以减少网络往返的时间，从而显著提高 Redis 的性能，特别是在需要执行大量命令时。</p><p>通过 <strong>Pipeline</strong>，你可以将多个命令打包到一起发送到 Redis 服务器，然后一次性获取所有命令的响应。这样可以减少与 Redis 服务器之间的网络通信次数，从而提高吞吐量和性能。</p><h2 id="使用中的问题" tabindex="-1">使用中的问题 <a class="header-anchor" href="#使用中的问题" aria-label="Permalink to &quot;使用中的问题&quot;">​</a></h2><h3 id="big-key" tabindex="-1">Big Key <a class="header-anchor" href="#big-key" aria-label="Permalink to &quot;Big Key&quot;">​</a></h3><ul><li>数据压缩</li><li>大事化小</li><li>考虑其他数据结构</li><li>redis 集群，将 big key 拆分到不同的服务器上</li></ul><h3 id="hot-key" tabindex="-1">Hot Key <a class="header-anchor" href="#hot-key" aria-label="Permalink to &quot;Hot Key&quot;">​</a></h3><ul><li>Hot Key 拆分：比如添加随机前缀，使不同用户访问不同 Key</li><li>多级缓存：CDN 缓存、本地缓存、BFF 缓存</li><li>读写分离</li><li>限流和降级</li></ul><h2 id="redis-持久化" tabindex="-1">redis 持久化 <a class="header-anchor" href="#redis-持久化" aria-label="Permalink to &quot;redis 持久化&quot;">​</a></h2><h3 id="rdb-redis-database-快照持久化" tabindex="-1"><strong>RDB（Redis DataBase）快照持久化</strong> <a class="header-anchor" href="#rdb-redis-database-快照持久化" aria-label="Permalink to &quot;**RDB（Redis DataBase）快照持久化**&quot;">​</a></h3><ul><li>Redis 会在内存中定期生成数据的快照，并将快照保存为 <code>.rdb</code> 文件。</li><li>默认情况下，RDB 快照会在配置的时间间隔和写操作数量满足时触发。</li></ul><p><strong>优点</strong>：</p><ul><li>快照是全量备份，恢复速度快。</li><li>性能上通常比 AOF 更高，因为只在特定时刻进行全量备份。</li></ul><p><strong>缺点</strong>：</p><ul><li>数据丢失的风险较高。如果 Redis 在快照保存之前崩溃，那么最近的写操作可能会丢失。</li><li>不适用于需要频繁持久化的场景。</li></ul><h3 id="aof-append-only-file-追加文件持久化" tabindex="-1"><strong>AOF（Append Only File）追加文件持久化</strong> <a class="header-anchor" href="#aof-append-only-file-追加文件持久化" aria-label="Permalink to &quot;**AOF（Append Only File）追加文件持久化**&quot;">​</a></h3><p>每次写操作（如 <code>SET</code>、<code>INCR</code> 等）都会被追加到 AOF 文件。</p><p>Redis 在后台会不断将写操作追加到 <code>appendonly.aof</code> 文件。</p><p>Redis 会定期执行一次 <strong>重写（rewrite）</strong> 操作，以减少 AOF 文件的大小，删除已被过期或无效的操作。</p><p>AOF 支持三种同步策略：</p><ol><li><strong>always</strong>：每次写操作都会立即同步到磁盘。会非常慢，通常不推荐。</li><li><strong>everysec</strong>：每秒同步一次 AOF 文件，性能和数据持久化的平衡。</li><li><strong>no</strong>：完全依赖操作系统控制同步，最快，但数据安全性差。</li></ol><p><strong>优点</strong>：</p><ul><li>AOF 记录了每个操作，数据恢复时几乎没有丢失。</li><li>数据丢失的风险小，适合对数据安全性要求高的场景。</li></ul><p><strong>缺点</strong>：</p><ul><li>AOF 文件通常比 RDB 文件要大，因为记录了每个写操作。</li><li>性能比 RDB 差，尤其是当同步频率较高时。</li></ul><p><strong>重写</strong>（rewrite）：</p><p>为了避免 AOF 文件过大，Redis 会在特定条件下进行 <strong>AOF 重写（AOF Rewrite）</strong>，即创建一个新的 AOF 文件，包含当前数据库状态所需的最少操作。AOF 重写是一个后台操作，不会阻塞客户端请求。</p><h3 id="rdb-aof-组合模式" tabindex="-1"><strong>RDB + AOF 组合模式</strong> <a class="header-anchor" href="#rdb-aof-组合模式" aria-label="Permalink to &quot;**RDB + AOF 组合模式**&quot;">​</a></h3><p>Redis 允许同时开启 RDB 和 AOF 持久化机制。你可以在高可用性要求较高的场景下同时使用两者：</p><ul><li><strong>RDB</strong> 提供快速的全量备份。</li><li><strong>AOF</strong> 提供更高的写操作持久化保障，确保数据不丢失。</li></ul><h2 id="redis-分布式锁" tabindex="-1">Redis 分布式锁 <a class="header-anchor" href="#redis-分布式锁" aria-label="Permalink to &quot;Redis 分布式锁&quot;">​</a></h2><h3 id="setnx-lua-脚本" tabindex="-1">setnx + lua 脚本 <a class="header-anchor" href="#setnx-lua-脚本" aria-label="Permalink to &quot;setnx + lua 脚本&quot;">​</a></h3><ul><li>手动续约，自动续约</li><li>过期/续约失败，业务中断问题</li><li>性能优化：singleflight 或 本地转交（看自己这个节点还有没有其他人）</li></ul><h3 id="red-lock" tabindex="-1">red lock <a class="header-anchor" href="#red-lock" aria-label="Permalink to &quot;red lock&quot;">​</a></h3><p>RedLock 的核心思想是将分布式锁的过程跨多个独立的 Redis 实例进行，通过一定的规则来保证锁的安全性和可靠性。</p><p>RedLock 的基本步骤如下：</p><ol><li><strong>准备多个 Redis 实例</strong>：至少需要 5 个 Redis 实例，这些实例可以部署在不同的机器上，确保高可用性和容错能力。</li><li><strong>尝试在多个 Redis 实例上获取锁</strong>： <ul><li>客户端向每个 Redis 实例请求获取锁（通常使用 <code>SET key value NX PX ttl</code> 命令）。其中，<code>NX</code> 表示只有当 key 不存在时才成功获取锁，<code>PX ttl</code> 指定锁的过期时间（避免锁的死锁问题）。</li><li>客户端最多等待 <strong><code>N</code> 个 Redis 实例中有超过一半的实例成功获得锁</strong>。通常需要的 Redis 实例数为奇数，这样可以通过简单的多数原则（如 3 个成功，2 个失败）来确定是否获取到锁。</li></ul></li><li><strong>加锁成功</strong>： <ul><li>如果客户端在超过一半的 Redis 实例上成功获取到锁，认为加锁成功。</li><li>如果加锁失败（例如，超过一半的 Redis 实例都没有获取到锁），客户端应当释放已经获得的锁并重试。</li></ul></li><li><strong>释放锁</strong>： <ul><li>客户端在完成工作后，需要释放锁。释放锁的过程与加锁过程类似，客户端会在所有获取锁的 Redis 实例上执行 <code>DEL key</code> 命令。</li><li>释放锁时，客户端需要确保只有它自己才能删除该锁，以避免误删。通常会在锁的 value 中加入客户端唯一标识（如 UUID），只有当 value 匹配时，才允许释放锁。</li></ul></li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/labnote/go/system.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>系统设计</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/labnote/go/raft.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Raft</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"aboutme.md\":\"kYFORpmL\",\"algorithm_index.md\":\"DuT03Cf_\",\"algorithm_其他算法_二分.md\":\"D-FBG171\",\"algorithm_其他算法_扫描线.md\":\"dYPDHtZz\",\"algorithm_其他算法_莫队.md\":\"BY0zMvsW\",\"algorithm_动态规划_最长上升子序列.md\":\"B4bHhNwo\",\"algorithm_动态规划_状态压缩.md\":\"D0lw-pGk\",\"algorithm_动态规划_背包问题.md\":\"BmwLPOwJ\",\"algorithm_动态规划_记忆话搜索.md\":\"DQ1H8kI9\",\"algorithm_图论_二分图.md\":\"BuIBaZvQ\",\"algorithm_图论_最短路.md\":\"BqmJASWl\",\"algorithm_图论_网络流.md\":\"DT4fN2Vr\",\"algorithm_图论_连通图.md\":\"CI4jaW_r\",\"algorithm_字符串_automaton.md\":\"DFLAY01H\",\"algorithm_字符串_string.md\":\"CMjSyPae\",\"algorithm_搜索_ida_.md\":\"CCymPJ7w\",\"algorithm_搜索_回溯算法.md\":\"C5NY6Nu-\",\"algorithm_搜索_记忆话搜索.md\":\"ClRh7jUt\",\"algorithm_数学_index.md\":\"BfaAr3Ve\",\"algorithm_数学_因数.md\":\"CkN2KXG_\",\"algorithm_数学_快速幂.md\":\"Da2XUtGs\",\"algorithm_数学_欧拉函数.md\":\"DubVFget\",\"algorithm_数学_质数.md\":\"BgDpohso\",\"algorithm_数学_高精度.md\":\"CUuBEDrd\",\"algorithm_数组_dp.md\":\"1cvBl4IO\",\"algorithm_数组_math.md\":\"CzMiza21\",\"algorithm_数组_trie.md\":\"DoAzCV47\",\"algorithm_数组_二分.md\":\"Bmum_7Z0\",\"algorithm_数组_二叉树.md\":\"Dv48-HDP\",\"algorithm_数组_删除元素.md\":\"BENzf3lM\",\"algorithm_数组_区间.md\":\"C3WUIjNi\",\"algorithm_数组_双指针.md\":\"Bd7W0s6-\",\"algorithm_数组_回溯.md\":\"BI2XnmcU\",\"algorithm_数组_图.md\":\"D0S_uOcZ\",\"algorithm_数组_堆.md\":\"D4TAzg8P\",\"algorithm_数组_栈.md\":\"C7Knb3l4\",\"algorithm_数组_滑动窗口.md\":\"Wg729BlE\",\"algorithm_数组_矩阵.md\":\"9swfH4C8\",\"algorithm_数组_链表.md\":\"iNpvt2OH\",\"algorithm_树_搜索树.md\":\"BYyVJbmH\",\"algorithm_树_最小生成树.md\":\"CzqV08wu\",\"algorithm_树_最近公共祖先.md\":\"C4zc1_Y8\",\"algorithm_树_线段树.md\":\"OiHLDAN_\",\"cpp_1984-01_p1194 买礼物.md\":\"D4rPE-rt\",\"cpp_1984-01_p1195 口袋的天空.md\":\"CC1Uq5iw\",\"cpp_1984-01_p1331 海战.md\":\"BdTUFFkJ\",\"cpp_1984-01_p1396 营救.md\":\"BbXsJVVW\",\"cpp_1984-01_p1629 邮递员送信.md\":\"DzfHpI63\",\"cpp_1984-01_p1656 炸铁路.md\":\"U7Rw2Sbz\",\"cpp_1984-01_p1744 采购特价商品.md\":\"BkkQew_u\",\"cpp_1984-01_p1875 佳佳的魔法药水.md\":\"CSjAJPVI\",\"cpp_1984-01_p2136 拉近距离.md\":\"Bo-Ygh6C\",\"cpp_1984-01_p2648 赚钱.md\":\"hZrSr_sM\",\"cpp_1984-01_p2656 采蘑菇.md\":\"D4v-FrFd\",\"cpp_1984-01_p2700 逐个击破.md\":\"mkXGLiNM\",\"cpp_1984-01_p3366 【模板】最小生成树.md\":\"BAK-mUYG\",\"cpp_1984-01_p3388 【模板】割点（割顶）.md\":\"MsKxsIlr\",\"cpp_1984-01_p3905 道路重建.md\":\"D72-3DT0\",\"cpp_1984-01_p4554 小明的游戏.md\":\"BOIyztx-\",\"cpp_1984-01_p4556.md\":\"CLoly17Z\",\"cpp_1984-01_p_1020_noip_1999_普及组_导弹拦截.md\":\"CLQCkbbz\",\"cpp_1984-01_p_1024_noip_2001_提高组_一元三次方程求解.md\":\"B1VDFlb_\",\"cpp_1984-01_p_1048_noip_2005_普及组_采药.md\":\"DhV2abC3\",\"cpp_1984-01_p_1049_noip_2001_普及组_装箱问题.md\":\"Ce2ecBgB\",\"cpp_1984-01_p_1102_a_b_数对.md\":\"4_xRSbos\",\"cpp_1984-01_p_1119_灾后重建.md\":\"Db7fcIq-\",\"cpp_1984-01_p_1120_小木棍.md\":\"DZrTrJdZ\",\"cpp_1984-01_p_1164_小a点菜.md\":\"CnSbWsJ6\",\"cpp_1984-01_p_1216_usaco_1_5_ioi_1994_数字三角形_number_triangles.md\":\"C_XwpHJZ\",\"cpp_1984-01_p_1314_noip_2011_提高组_聪明的质监员.md\":\"9e3coOc6\",\"cpp_1984-01_p_1357_花园.md\":\"CWvwg6BO\",\"cpp_1984-01_p_1379_八数码难题.md\":\"BkHwmaMn\",\"cpp_1984-01_p_1395_会议.md\":\"DouEMY8m\",\"cpp_1984-01_p_1434_shoi_2002_滑雪.md\":\"Bw7ZHP4I\",\"cpp_1984-01_p_1439_模板_最长公共子序列.md\":\"BSLtT8aw\",\"cpp_1984-01_p_1462_通往奥格瑞玛的道路.md\":\"Can4w_pr\",\"cpp_1984-01_p_1481_魔族密码.md\":\"DyKUiyju\",\"cpp_1984-01_p_1486_noi_2004_郁闷的出纳员.md\":\"DXoHp7s2\",\"cpp_1984-01_p_1719_最大加权矩形.md\":\"aQe0hJ0_\",\"cpp_1984-01_p_1725_琪露诺.md\":\"Z7GecHF9\",\"cpp_1984-01_p_1879_usaco_06_nov_corn_fields_g.md\":\"C2SS_yZJ\",\"cpp_1984-01_p_1886_滑动窗口_模板_单调队列.md\":\"YJniby9u\",\"cpp_1984-01_p_1896_scoi_2005_互不侵犯.md\":\"VWy_AknF\",\"cpp_1984-01_p_1908_逆序对.md\":\"C4TtmNin\",\"cpp_1984-01_p_1972_sdoi_2009_hh的项链.md\":\"BFX2mD1Z\",\"cpp_1984-01_p_2047_noi_2007_社交网络.md\":\"Dj2SLKnQ\",\"cpp_1984-01_p_2052_noi_2011_道路修建.md\":\"B3BSGrDv\",\"cpp_1984-01_p_2146_noi_2015_软件包管理器.md\":\"snUTH4P1\",\"cpp_1984-01_p_2285_hnoi_2004_打鼹鼠.md\":\"g79C2Kji\",\"cpp_1984-01_p_2324_scoi_2005_骑士精神.md\":\"DZS6QuEo\",\"cpp_1984-01_p_2580_于是他错误的点名开始了.md\":\"DA3kmd8S\",\"cpp_1984-01_p_2704_noi_2001_炮兵阵地.md\":\"DKVylWnM\",\"cpp_1984-01_p_2709_小b的询问.md\":\"OlbZKFjg\",\"cpp_1984-01_p_2758_编辑距离.md\":\"DWCfOfV1\",\"cpp_1984-01_p_2824_heoi_2016_tjoi_2016_排序.md\":\"CetNgsRH\",\"cpp_1984-01_p_2871_usaco_07_dec_charm_bracelet_s.md\":\"Bi8xsTgF\",\"cpp_1984-01_p_2888_usaco_07_nov_cow_hurdles_s.md\":\"DSNHzes1\",\"cpp_1984-01_p_3128_usaco_15_dec_max_flow_p.md\":\"vh05k_la\",\"cpp_1984-01_p_3178_haoi_2015_树上操作.md\":\"DWQroTkz\",\"cpp_1984-01_p_3369_模板_普通平衡树.md\":\"BLGT0mep\",\"cpp_1984-01_p_3372_模板_线段树_1.md\":\"CVOPF0PU\",\"cpp_1984-01_p_3373_模板_线段树_2.md\":\"CcZH3GuQ\",\"cpp_1984-01_p_3375_模板_kmp.md\":\"B5ibKYf_\",\"cpp_1984-01_p_3379_模板_最近公共祖先_lca.md\":\"BXTxQDpW\",\"cpp_1984-01_p_3380_模板_二逼平衡树_树套树.md\":\"DtoiHGRp\",\"cpp_1984-01_p_3391_模板_文艺平衡树.md\":\"Bnb7932f\",\"cpp_1984-01_p_3398_仓鼠找_sugar.md\":\"BV2iNhEU\",\"cpp_1984-01_p_3605_usaco_17_jan_promotion_counting_p.md\":\"dr94_ZLY\",\"cpp_1984-01_p_3709_大爷的字符串题.md\":\"pzeGu9VQ\",\"cpp_1984-01_p_3806_模板_点分治_1.md\":\"FINccob7\",\"cpp_1984-01_p_3901_数列找不同.md\":\"Dh9yGwse\",\"cpp_1984-01_p_3919_模板_可持久化线段树_1_可持久化数组.md\":\"b9iI9StU\",\"cpp_1984-01_p_3956_noip_2017_普及组_棋盘.md\":\"CN4tJiK-\",\"cpp_1984-01_p_4017_最大食物链计数.md\":\"B6yL9nZ8\",\"cpp_1984-01_p_4047_jsoi_2010_部落划分.md\":\"C8GGBm8_\",\"cpp_1984-01_p_4092_heoi_2016_tjoi_2016_树.md\":\"DCLdo1js\",\"cpp_1984-01_p_4114_qtree_1.md\":\"P6RlY1rX\",\"cpp_1984-01_p_4315_月下_毛景树.md\":\"CsIjlpBI\",\"cpp_1984-01_p_4391_boi_2009_radio_transmission_无线传输.md\":\"_ZSYGTkP\",\"cpp_1984-01_p_4427_bjoi_2018_求和.md\":\"BEq3YNcM\",\"cpp_1984-01_p_4551_最长异或路径.md\":\"B5IGFWqB\",\"cpp_1984-01_p_4556_vani有约会_雨天的尾巴_模板_线段树合并.md\":\"CZOr7TTh\",\"cpp_1984-01_p_4799_ceoi_2015_day_2_世界冰球锦标赛.md\":\"D4TVG50a\",\"cpp_1984-01_p_5494_模板_线段树分裂.md\":\"BfG0pXij\",\"cpp_1984-01_p_5507_机关.md\":\"73PhNOMw\",\"cpp_1984-01_p_5837_usaco_19_dec_milk_pumping_g.md\":\"gxDNqMqz\",\"cpp_1984-01_p_5908_猫猫和企鹅.md\":\"qNmVRv9L\",\"cpp_1984-01_p_6098_usaco_19_feb_cow_land_g.md\":\"DeLlJC5m\",\"cpp_1984-01_p_8218_深进_1_例_1_求区间和.md\":\"xnYZitUX\",\"cpp_1984-01_p_8772_蓝桥杯_2022_省_a_求和.md\":\"CrqOOBvk\",\"cpp_1984-01_p_9532_ysoi_2023_前缀和.md\":\"mN7x7-gR\",\"cpp_2024-03__defaut.md\":\"5gCIu4T5\",\"cpp_2024-03_p_1262_间谍网络.md\":\"bPmayC9u\",\"cpp_2024-03_p_1343_地震逃生.md\":\"DksPSbqH\",\"cpp_2024-03_p_1344_usaco_4_4_追查坏牛奶_pollutant_control.md\":\"qf2FqjWG\",\"cpp_2024-03_p_1345_usaco_5_4_奶牛的电信telecowmunication.md\":\"BOTejZZV\",\"cpp_2024-03_p_1361_小m的作物.md\":\"BsgKSH7T\",\"cpp_2024-03_p_1967_noip_2013_提高组_货车运输.md\":\"UkEn4rpz\",\"cpp_2024-03_p_2245_星际导航.md\":\"CKiQFUbm\",\"cpp_2024-03_p_2341_usaco_03_fall_haoi_2006_受欢迎的牛_g.md\":\"BVgmuIMD\",\"cpp_2024-03_p_2740_usaco_4_2_草地排水drainage_ditches.md\":\"BCTp_Eh0\",\"cpp_2024-03_p_2812_校园网络_usaco_network_of_schools加强版.md\":\"C1fqmQQl\",\"cpp_2024-03_p_2860_usaco_06_jan_redundant_paths_g.md\":\"F4imSWyP\",\"cpp_2024-03_p_2863_usaco_06_jan_the_cow_prom_s.md\":\"CGQeyX7t\",\"cpp_2024-03_p_2936_usaco_09_jan_total_flow_s.md\":\"COd-1N2O\",\"cpp_2024-03_p_3038_usaco_11_dec_grass_planting_g.md\":\"MkdMkoS8\",\"cpp_2024-03_p_3376_模板_网络最大流.md\":\"BqLcFi2f\",\"cpp_2024-03_p_3381_模板_最小费用最大流.md\":\"DFxdfZMo\",\"cpp_2024-03_p_3384_模板_重链剖分_树链剖分.md\":\"BKguJ-jR\",\"cpp_2024-03_p_3385_模板_负环.md\":\"Dmxy4B2x\",\"cpp_2024-03_p_3387_模板_缩点.md\":\"CKnAsOuQ\",\"cpp_2024-03_p_3388_模板_割点_割顶.md\":\"CwOcyOQS\",\"cpp_2024-03_p_3469_poi_2008_blo_blockade.md\":\"F39qZ34l\",\"cpp_2024-03_p_4568_jloi_2011_飞行路线.md\":\"OPq8_N4g\",\"cpp_2024-03_p_4779_模板_单源最短路径_标准版.md\":\"CXADw2HN\",\"cpp_2024-03_p_8435_模板_点双连通分量.md\":\"BrSQC4wL\",\"cpp_2024-03_shichikuji_and_power_grid.md\":\"B2n_ZjOH\",\"cpp_2024-03_we_need_more_bosses.md\":\"CHhFg4wJ\",\"cpp_2024-04__test.md\":\"DGhHtE2p\",\"cpp_2024-04_forgery.md\":\"BRSyfx5Z\",\"cpp_2024-04_p_1029_noip_2001_普及组_最大公约数和最小公倍数问题.md\":\"CXsivYvm\",\"cpp_2024-04_p_1045_noip_2003_普及组_麦森数.md\":\"BtlZaXBB\",\"cpp_2024-04_p_1141_01_迷宫.md\":\"CdgStZK-\",\"cpp_2024-04_p_1226_模板_快速幂.md\":\"TkEpqPHE\",\"cpp_2024-04_p_1451_求细胞数量.md\":\"DZgfqXmI\",\"cpp_2024-04_p_1494_国家集训队_小_z_的袜子.md\":\"DlbCQh_O\",\"cpp_2024-04_p_1706_全排列问题.md\":\"DGA3EnXV\",\"cpp_2024-04_p_1884_usaco_12_feb_overplanting_s.md\":\"BpefD8B8\",\"cpp_2024-04_p_1903_国家集训队_数颜色_维护队列.md\":\"BzRgrUvq\",\"cpp_2024-04_p_1955_noi_2015_程序自动分析.md\":\"DMTrKKAr\",\"cpp_2024-04_p_1962_斐波那契数列.md\":\"DUDYLe2a\",\"cpp_2024-04_p_2043_质因子分解.md\":\"DJksq0ZA\",\"cpp_2024-04_p_3383_模板_线性筛素数.md\":\"BfENDuMn\",\"cpp_2024-04_p_3390_模板_矩阵快速幂.md\":\"C2VN-Vwc\",\"cpp_2024-04_p_4074_wc_2013_糖果公园.md\":\"CGkXtZEg\",\"cpp_2024-04_p_4942_小凯的数字.md\":\"CDKvdK_Q\",\"cpp_2024-04_p_5736_深基_7_例_2_质数筛.md\":\"B_pgflBl\",\"cpp_2024-04_歴史の研究.md\":\"BmoVxyXA\",\"cpp_2024-05_p_10045_ccpc_2023_北京市赛_线段树.md\":\"CNiTj3J4\",\"cpp_2024-05_p_10048_ccpc_2023_北京市赛_图.md\":\"CvS4hV3W\",\"cpp_2024-05_p_3386_模板_二分图最大匹配.md\":\"C9OpVZY1\",\"cpp_2024-05_p_4254_jsoi_2008_blue_mary_开公司.md\":\"BxnRuGXc\",\"cpp_2024-05_p_6577_模板_二分图最大权完美匹配.md\":\"KoThmbrb\",\"cpp_2024-05_xor_on_segment.md\":\"B-LhZ3Qv\",\"cpp_index.md\":\"BVlIt18n\",\"index.md\":\"Ck8lwQ42\",\"labnote_go_auth.md\":\"C37-DDA6\",\"labnote_go_blocklist.md\":\"CDE10MpP\",\"labnote_go_cache.md\":\"BrirIYwo\",\"labnote_go_docker.md\":\"CMEkWtEY\",\"labnote_go_ds.md\":\"C-CWDXbi\",\"labnote_go_elasticsearch.md\":\"DOB_mYlO\",\"labnote_go_epoll.md\":\"BHAs0r6h\",\"labnote_go_etcd.md\":\"7GxHqe4L\",\"labnote_go_golang.md\":\"Bzm8FO9_\",\"labnote_go_kafka.md\":\"DIY4U5Xo\",\"labnote_go_kubernetes.md\":\"B-e1lgmK\",\"labnote_go_langchain.md\":\"DGpmU-Qm\",\"labnote_go_langgraph.md\":\"fXqKfsmg\",\"labnote_go_mysql.md\":\"BJtO7rf7\",\"labnote_go_os.md\":\"-6LBQIt9\",\"labnote_go_python.md\":\"w2DZRqIS\",\"labnote_go_quant.md\":\"BJxSguQo\",\"labnote_go_raft.md\":\"DUd9NwPq\",\"labnote_go_redis.md\":\"DBdnNnw4\",\"labnote_go_system.md\":\"Dy1igaYZ\",\"labnote_go_tcp.md\":\"MlV05Tp1\",\"labnote_go_不停机数据迁移.md\":\"DfjOtKeH\",\"labnote_go_分布式任务调度系统.md\":\"Cw24wLrM\",\"labnote_go_分库分表.md\":\"vtfrSJZk\",\"labnote_go_微服务.md\":\"K6lkytWr\",\"labnote_go_服务治理.md\":\"Dr1_MhNm\",\"labnote_go_服务注册与发现.md\":\"CEN-Pajr\",\"labnote_go_本地消息表.md\":\"-VHB3LYJ\",\"labnote_go_负载均衡.md\":\"FIq6DUtJ\",\"labnote_index.md\":\"DR6egeCU\",\"labnote_vue_tools.md\":\"BSgOv0ow\",\"start.md\":\"Dp6pRd8k\",\"system_ai_ann.md\":\"v9voIaJj\",\"system_ai_embeddings.md\":\"CkRmmXrs\",\"system_ai_langchain.md\":\"r2VI-fx3\",\"system_ai_transformer.md\":\"DvDQuxv_\",\"system_compiler_antlr.md\":\"BbceIYzj\",\"system_compiler_automaton.md\":\"B3_nvVqw\",\"system_compiler_cfg.md\":\"Ctfl44C-\",\"system_dbproxy_bufferpool.md\":\"Bvq8SBUR\",\"system_dbproxy_hint.md\":\"xR4JazcV\",\"system_dbproxy_mysql.md\":\"CfKZULt_\",\"system_dbproxy_sharding.md\":\"CQhDdbNl\",\"system_dbproxy_sidecar.md\":\"DJWf-wQe\",\"system_dbproxy_splitting.md\":\"bmPqrgup\",\"system_ds_aurora.md\":\"yzJiakrm\",\"system_ds_distributed transaction.md\":\"CeJ1UKKZ\",\"system_ds_frangipani.md\":\"BEdgNlgd\",\"system_ds_gfs.md\":\"Cp2L0y8b\",\"system_ds_mapreduce.md\":\"Cfpa-9C7\",\"system_ds_raft.md\":\"CpX-PeCm\",\"system_ds_vmware ft.md\":\"DaSxwFZH\",\"system_ds_zookeeper.md\":\"CE_Up5fK\",\"system_index.md\":\"a4DX61Rw\",\"system_mit6.824_lab1.md\":\"Be8kh8ac\",\"system_mit6.824_lab2a.md\":\"EvhFHySE\",\"system_os_01.md\":\"CNuj26dv\",\"system_os_crepl.md\":\"Bu1cu5Wn\",\"system_os_frecov.md\":\"C4WvTc3_\",\"system_os_libco.md\":\"CrMSym60\",\"system_os_processtree.md\":\"xGGKzh88\",\"system_os_sperf.md\":\"BNTPW11E\",\"system_tcp_active-queue-management.md\":\"CZWnmXbR\",\"system_tcp_avoidance-based.md\":\"lmj0anSA\",\"system_tcp_control-based.md\":\"DpBtUtu9\",\"system_tcp_design-space.md\":\"bUbnpUEP\",\"system_tcp_other.md\":\"u8CxjWNx\",\"system_tcp_overview.md\":\"Y_GU5HZB\",\"system_tcp_tcp.md\":\"DrZCNz7n\",\"test.md\":\"D1k-MXjo\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"hjywiki\",\"description\":\"编程笔记\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"系统知识\",\"link\":\"/system/index\"},{\"text\":\"学习笔记\",\"link\":\"/labnote/index\"},{\"text\":\"算法\",\"link\":\"/algorithm/index\"},{\"text\":\"算法题解\",\"link\":\"/cpp/index\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/DaHuangQwQ\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":{\"/test.md/\":[],\"/start.md/\":[],\"/index.md/\":[],\"/aboutme.md/\":[],\"/system/\":[{\"text\":\"主页\",\"link\":\"/system/index.md\"},{\"text\":\"tcp\",\"collapsed\":false,\"items\":[{\"text\":\"TCP\",\"link\":\"/system/tcp/tcp.md\"},{\"text\":\"理论基础\",\"link\":\"/system/tcp/overview.md\"},{\"text\":\"TCP外的拥塞控制\",\"link\":\"/system/tcp/other.md\"},{\"text\":\"设计拥塞控制\",\"link\":\"/system/tcp/design-space.md\"},{\"text\":\"拥塞控制算法实现\",\"link\":\"/system/tcp/control-based.md\"},{\"text\":\"拥塞控制算法\",\"link\":\"/system/tcp/avoidance-based.md\"},{\"text\":\"主动队列管理\",\"link\":\"/system/tcp/active-queue-management.md\"}]},{\"text\":\"os\",\"collapsed\":false,\"items\":[{\"text\":\"sperf\",\"link\":\"/system/os/sperf.md\"},{\"text\":\"pstree\",\"link\":\"/system/os/processTree.md\"},{\"text\":\"libco\",\"link\":\"/system/os/libco.md\"},{\"text\":\"frecov\",\"link\":\"/system/os/frecov.md\"},{\"text\":\"crepl\",\"link\":\"/system/os/crepl.md\"},{\"text\":\"\",\"link\":\"/system/os/01.md\"}]},{\"text\":\"mit6.824\",\"collapsed\":false,\"items\":[{\"text\":\"lab2A\",\"link\":\"/system/mit6.824/lab2A.md\"},{\"text\":\"lab1\",\"link\":\"/system/mit6.824/lab1.md\"}]},{\"text\":\"ds\",\"collapsed\":false,\"items\":[{\"text\":\"Zookeeper\",\"link\":\"/system/ds/Zookeeper.md\"},{\"text\":\"VMware FT\",\"link\":\"/system/ds/VMware FT.md\"},{\"text\":\"Raft\",\"link\":\"/system/ds/Raft.md\"},{\"text\":\"MapReduce\",\"link\":\"/system/ds/MapReduce.md\"},{\"text\":\"GFS\",\"link\":\"/system/ds/GFS.md\"},{\"text\":\"Frangipani\",\"link\":\"/system/ds/Frangipani.md\"},{\"text\":\"Distributed Transaction\",\"link\":\"/system/ds/Distributed Transaction.md\"},{\"text\":\"Aurora\",\"link\":\"/system/ds/Aurora.md\"}]},{\"text\":\"dbproxy\",\"collapsed\":false,\"items\":[{\"text\":\"读写分离\",\"link\":\"/system/dbproxy/splitting.md\"},{\"text\":\"sidecar\",\"link\":\"/system/dbproxy/sidecar.md\"},{\"text\":\"sharding\",\"link\":\"/system/dbproxy/sharding.md\"},{\"text\":\"Mysql 协议\",\"link\":\"/system/dbproxy/mysql.md\"},{\"text\":\"链路数据传递和 HINT 机制\",\"link\":\"/system/dbproxy/hint.md\"},{\"text\":\"Buffer Pool\",\"link\":\"/system/dbproxy/bufferpool.md\"}]},{\"text\":\"compiler\",\"collapsed\":false,\"items\":[{\"text\":\"Context-Free Grammar\",\"link\":\"/system/compiler/cfg.md\"},{\"text\":\"Automaton\",\"link\":\"/system/compiler/automaton.md\"},{\"text\":\"antlr\",\"link\":\"/system/compiler/antlr.md\"}]},{\"text\":\"ai\",\"collapsed\":false,\"items\":[{\"text\":\"Transformer\",\"link\":\"/system/ai/Transformer.md\"},{\"text\":\"LangChain\",\"link\":\"/system/ai/LangChain.md\"},{\"text\":\"Embeddings\",\"link\":\"/system/ai/Embeddings.md\"},{\"text\":\"神经网络\",\"link\":\"/system/ai/ANN.md\"}]}],\"/labnote/\":[{\"text\":\"转 go 语言的学习之路\",\"link\":\"/labnote/index.md\"},{\"text\":\"vue\",\"collapsed\":false,\"items\":[{\"text\":\"tools\",\"link\":\"/labnote/vue/tools.md\"}]},{\"text\":\"go\",\"collapsed\":false,\"items\":[{\"text\":\"负载均衡\",\"link\":\"/labnote/go/负载均衡.md\"},{\"text\":\"本地消息表\",\"link\":\"/labnote/go/本地消息表.md\"},{\"text\":\"服务注册与发现\",\"link\":\"/labnote/go/服务注册与发现.md\"},{\"text\":\"服务治理\",\"link\":\"/labnote/go/服务治理.md\"},{\"text\":\"微服务\",\"link\":\"/labnote/go/微服务.md\"},{\"text\":\"分库分表\",\"link\":\"/labnote/go/分库分表.md\"},{\"text\":\"分布式任务调度系统\",\"link\":\"/labnote/go/分布式任务调度系统.md\"},{\"text\":\"不停机数据迁移\",\"link\":\"/labnote/go/不停机数据迁移.md\"},{\"text\":\"\",\"link\":\"/labnote/go/tcp.md\"},{\"text\":\"系统设计\",\"link\":\"/labnote/go/system.md\"},{\"text\":\"redis\",\"link\":\"/labnote/go/redis.md\"},{\"text\":\"Raft\",\"link\":\"/labnote/go/raft.md\"},{\"text\":\"量化\",\"link\":\"/labnote/go/quant.md\"},{\"text\":\"python\",\"link\":\"/labnote/go/python.md\"},{\"text\":\"操作系统\",\"link\":\"/labnote/go/os.md\"},{\"text\":\"LangGraph\",\"link\":\"/labnote/go/langgraph.md\"},{\"text\":\"LangChain\",\"link\":\"/labnote/go/langchain.md\"},{\"text\":\"kubernetes\",\"link\":\"/labnote/go/kubernetes.md\"},{\"text\":\"kafka\",\"link\":\"/labnote/go/kafka.md\"},{\"text\":\"golang\",\"link\":\"/labnote/go/golang.md\"},{\"text\":\"etcd\",\"link\":\"/labnote/go/etcd.md\"},{\"text\":\"epoll\",\"link\":\"/labnote/go/epoll.md\"},{\"text\":\"ElasticSearch\",\"link\":\"/labnote/go/elasticsearch.md\"},{\"text\":\"分布式系统\",\"link\":\"/labnote/go/ds.md\"},{\"text\":\"Docker\",\"link\":\"/labnote/go/docker.md\"},{\"text\":\"缓存\",\"link\":\"/labnote/go/cache.md\"},{\"text\":\"区块链\",\"link\":\"/labnote/go/blocklist.md\"},{\"text\":\"安全验证\",\"link\":\"/labnote/go/auth.md\"},{\"text\":\"Mysql\",\"link\":\"/labnote/go/Mysql.md\"}]}],\"/cpp/\":[{\"text\":\"index\",\"link\":\"/cpp/index.md\"},{\"text\":\"2024-05\",\"collapsed\":false,\"items\":[{\"text\":\"XOR_on_Segment\",\"link\":\"/cpp/2024-05/XOR_on_Segment.md\"},{\"text\":\"P_6577_模板_二分图最大权完美匹配\",\"link\":\"/cpp/2024-05/P_6577_模板_二分图最大权完美匹配.md\"},{\"text\":\"P_4254_JSOI_2008_Blue_Mary_开公司\",\"link\":\"/cpp/2024-05/P_4254_JSOI_2008_Blue_Mary_开公司.md\"},{\"text\":\"P_3386_模板_二分图最大匹配\",\"link\":\"/cpp/2024-05/P_3386_模板_二分图最大匹配.md\"},{\"text\":\"P_10048_CCPC_2023_北京市赛_图\",\"link\":\"/cpp/2024-05/P_10048_CCPC_2023_北京市赛_图.md\"},{\"text\":\"P_10045_CCPC_2023_北京市赛_线段树\",\"link\":\"/cpp/2024-05/P_10045_CCPC_2023_北京市赛_线段树.md\"}]},{\"text\":\"2024-04\",\"collapsed\":false,\"items\":[{\"text\":\"歴史の研究\",\"link\":\"/cpp/2024-04/歴史の研究.md\"},{\"text\":\"_test\",\"link\":\"/cpp/2024-04/_test.md\"},{\"text\":\"P_5736_深基_7_例_2_质数筛\",\"link\":\"/cpp/2024-04/P_5736_深基_7_例_2_质数筛.md\"},{\"text\":\"P_4942_小凯的数字\",\"link\":\"/cpp/2024-04/P_4942_小凯的数字.md\"},{\"text\":\"P_4074_WC_2013_糖果公园\",\"link\":\"/cpp/2024-04/P_4074_WC_2013_糖果公园.md\"},{\"text\":\"P_3390_模板_矩阵快速幂\",\"link\":\"/cpp/2024-04/P_3390_模板_矩阵快速幂.md\"},{\"text\":\"P_3383_模板_线性筛素数\",\"link\":\"/cpp/2024-04/P_3383_模板_线性筛素数.md\"},{\"text\":\"P_2043_质因子分解\",\"link\":\"/cpp/2024-04/P_2043_质因子分解.md\"},{\"text\":\"P_1962_斐波那契数列\",\"link\":\"/cpp/2024-04/P_1962_斐波那契数列.md\"},{\"text\":\"P_1955_NOI_2015_程序自动分析\",\"link\":\"/cpp/2024-04/P_1955_NOI_2015_程序自动分析.md\"},{\"text\":\"P_1903_国家集训队_数颜色_维护队列\",\"link\":\"/cpp/2024-04/P_1903_国家集训队_数颜色_维护队列.md\"},{\"text\":\"P_1884_USACO_12_FEB_Overplanting_S\",\"link\":\"/cpp/2024-04/P_1884_USACO_12_FEB_Overplanting_S.md\"},{\"text\":\"P_1706_全排列问题\",\"link\":\"/cpp/2024-04/P_1706_全排列问题.md\"},{\"text\":\"P_1494_国家集训队_小_Z_的袜子\",\"link\":\"/cpp/2024-04/P_1494_国家集训队_小_Z_的袜子.md\"},{\"text\":\"P_1451_求细胞数量\",\"link\":\"/cpp/2024-04/P_1451_求细胞数量.md\"},{\"text\":\"P_1226_模板_快速幂\",\"link\":\"/cpp/2024-04/P_1226_模板_快速幂.md\"},{\"text\":\"P_1141_01_迷宫\",\"link\":\"/cpp/2024-04/P_1141_01_迷宫.md\"},{\"text\":\"P_1045_NOIP_2003_普及组_麦森数\",\"link\":\"/cpp/2024-04/P_1045_NOIP_2003_普及组_麦森数.md\"},{\"text\":\"P_1029_NOIP_2001_普及组_最大公约数和最小公倍数问题\",\"link\":\"/cpp/2024-04/P_1029_NOIP_2001_普及组_最大公约数和最小公倍数问题.md\"},{\"text\":\"Forgery\",\"link\":\"/cpp/2024-04/Forgery.md\"}]},{\"text\":\"2024-03\",\"collapsed\":false,\"items\":[{\"text\":\"_defaut\",\"link\":\"/cpp/2024-03/_defaut.md\"},{\"text\":\"We_Need_More_Bosses\",\"link\":\"/cpp/2024-03/We_Need_More_Bosses.md\"},{\"text\":\"Shichikuji_and_Power_Grid\",\"link\":\"/cpp/2024-03/Shichikuji_and_Power_Grid.md\"},{\"text\":\"P_8435_模板_点双连通分量\",\"link\":\"/cpp/2024-03/P_8435_模板_点双连通分量.md\"},{\"text\":\"P_4779_模板_单源最短路径_标准版\",\"link\":\"/cpp/2024-03/P_4779_模板_单源最短路径_标准版.md\"},{\"text\":\"P_4568_JLOI_2011_飞行路线\",\"link\":\"/cpp/2024-03/P_4568_JLOI_2011_飞行路线.md\"},{\"text\":\"P_3469_POI_2008_BLO_Blockade\",\"link\":\"/cpp/2024-03/P_3469_POI_2008_BLO_Blockade.md\"},{\"text\":\"P_3388_模板_割点_割顶\",\"link\":\"/cpp/2024-03/P_3388_模板_割点_割顶.md\"},{\"text\":\"P_3387_模板_缩点\",\"link\":\"/cpp/2024-03/P_3387_模板_缩点.md\"},{\"text\":\"P_3385_模板_负环\",\"link\":\"/cpp/2024-03/P_3385_模板_负环.md\"},{\"text\":\"P_3384_模板_重链剖分_树链剖分\",\"link\":\"/cpp/2024-03/P_3384_模板_重链剖分_树链剖分.md\"},{\"text\":\"P_3381_模板_最小费用最大流\",\"link\":\"/cpp/2024-03/P_3381_模板_最小费用最大流.md\"},{\"text\":\"P_3376_模板_网络最大流\",\"link\":\"/cpp/2024-03/P_3376_模板_网络最大流.md\"},{\"text\":\"P_3038_USACO_11_DEC_Grass_Planting_G\",\"link\":\"/cpp/2024-03/P_3038_USACO_11_DEC_Grass_Planting_G.md\"},{\"text\":\"P_2936_USACO_09_JAN_Total_Flow_S\",\"link\":\"/cpp/2024-03/P_2936_USACO_09_JAN_Total_Flow_S.md\"},{\"text\":\"P_2863_USACO_06_JAN_The_Cow_Prom_S\",\"link\":\"/cpp/2024-03/P_2863_USACO_06_JAN_The_Cow_Prom_S.md\"},{\"text\":\"P_2860_USACO_06_JAN_Redundant_Paths_G\",\"link\":\"/cpp/2024-03/P_2860_USACO_06_JAN_Redundant_Paths_G.md\"},{\"text\":\"P_2812_校园网络_USACO_Network_of_Schools加强版\",\"link\":\"/cpp/2024-03/P_2812_校园网络_USACO_Network_of_Schools加强版.md\"},{\"text\":\"P_2740_USACO_4_2_草地排水Drainage_Ditches\",\"link\":\"/cpp/2024-03/P_2740_USACO_4_2_草地排水Drainage_Ditches.md\"},{\"text\":\"P_2341_USACO_03_FALL_HAOI_2006_受欢迎的牛_G\",\"link\":\"/cpp/2024-03/P_2341_USACO_03_FALL_HAOI_2006_受欢迎的牛_G.md\"},{\"text\":\"P_2245_星际导航\",\"link\":\"/cpp/2024-03/P_2245_星际导航.md\"},{\"text\":\"P_1967_NOIP_2013_提高组_货车运输\",\"link\":\"/cpp/2024-03/P_1967_NOIP_2013_提高组_货车运输.md\"},{\"text\":\"P_1361_小M的作物\",\"link\":\"/cpp/2024-03/P_1361_小M的作物.md\"},{\"text\":\"P_1345_USACO_5_4_奶牛的电信Telecowmunication\",\"link\":\"/cpp/2024-03/P_1345_USACO_5_4_奶牛的电信Telecowmunication.md\"},{\"text\":\"P_1344_USACO_4_4_追查坏牛奶_Pollutant_Control\",\"link\":\"/cpp/2024-03/P_1344_USACO_4_4_追查坏牛奶_Pollutant_Control.md\"},{\"text\":\"P_1343_地震逃生\",\"link\":\"/cpp/2024-03/P_1343_地震逃生.md\"},{\"text\":\"P_1262_间谍网络\",\"link\":\"/cpp/2024-03/P_1262_间谍网络.md\"}]},{\"text\":\"1984-01\",\"collapsed\":false,\"items\":[{\"text\":\"P_9532_YsOI_2023_前缀和\",\"link\":\"/cpp/1984-01/P_9532_YsOI_2023_前缀和.md\"},{\"text\":\"P_8772_蓝桥杯_2022_省_A_求和\",\"link\":\"/cpp/1984-01/P_8772_蓝桥杯_2022_省_A_求和.md\"},{\"text\":\"P_8218_深进_1_例_1_求区间和\",\"link\":\"/cpp/1984-01/P_8218_深进_1_例_1_求区间和.md\"},{\"text\":\"P_6098_USACO_19_FEB_Cow_Land_G\",\"link\":\"/cpp/1984-01/P_6098_USACO_19_FEB_Cow_Land_G.md\"},{\"text\":\"P_5908_猫猫和企鹅\",\"link\":\"/cpp/1984-01/P_5908_猫猫和企鹅.md\"},{\"text\":\"P_5837_USACO_19_DEC_Milk_Pumping_G\",\"link\":\"/cpp/1984-01/P_5837_USACO_19_DEC_Milk_Pumping_G.md\"},{\"text\":\"P_5507_机关\",\"link\":\"/cpp/1984-01/P_5507_机关.md\"},{\"text\":\"P_5494_模板_线段树分裂\",\"link\":\"/cpp/1984-01/P_5494_模板_线段树分裂.md\"},{\"text\":\"P_4799_CEOI_2015_Day_2_世界冰球锦标赛\",\"link\":\"/cpp/1984-01/P_4799_CEOI_2015_Day_2_世界冰球锦标赛.md\"},{\"text\":\"P_4556_Vani有约会_雨天的尾巴_模板_线段树合并\",\"link\":\"/cpp/1984-01/P_4556_Vani有约会_雨天的尾巴_模板_线段树合并.md\"},{\"text\":\"P_4551_最长异或路径\",\"link\":\"/cpp/1984-01/P_4551_最长异或路径.md\"},{\"text\":\"P_4427_BJOI_2018_求和\",\"link\":\"/cpp/1984-01/P_4427_BJOI_2018_求和.md\"},{\"text\":\"P_4391_BOI_2009_Radio_Transmission_无线传输\",\"link\":\"/cpp/1984-01/P_4391_BOI_2009_Radio_Transmission_无线传输.md\"},{\"text\":\"P_4315_月下_毛景树\",\"link\":\"/cpp/1984-01/P_4315_月下_毛景树.md\"},{\"text\":\"P_4114_Qtree_1\",\"link\":\"/cpp/1984-01/P_4114_Qtree_1.md\"},{\"text\":\"P_4092_HEOI_2016_TJOI_2016_树\",\"link\":\"/cpp/1984-01/P_4092_HEOI_2016_TJOI_2016_树.md\"},{\"text\":\"P_4047_JSOI_2010_部落划分\",\"link\":\"/cpp/1984-01/P_4047_JSOI_2010_部落划分.md\"},{\"text\":\"P_4017_最大食物链计数\",\"link\":\"/cpp/1984-01/P_4017_最大食物链计数.md\"},{\"text\":\"P_3956_NOIP_2017_普及组_棋盘\",\"link\":\"/cpp/1984-01/P_3956_NOIP_2017_普及组_棋盘.md\"},{\"text\":\"P_3919_模板_可持久化线段树_1_可持久化数组\",\"link\":\"/cpp/1984-01/P_3919_模板_可持久化线段树_1_可持久化数组.md\"},{\"text\":\"P_3901_数列找不同\",\"link\":\"/cpp/1984-01/P_3901_数列找不同.md\"},{\"text\":\"P_3806_模板_点分治_1\",\"link\":\"/cpp/1984-01/P_3806_模板_点分治_1.md\"},{\"text\":\"P_3709_大爷的字符串题\",\"link\":\"/cpp/1984-01/P_3709_大爷的字符串题.md\"},{\"text\":\"P_3605_USACO_17_JAN_Promotion_Counting_P\",\"link\":\"/cpp/1984-01/P_3605_USACO_17_JAN_Promotion_Counting_P.md\"},{\"text\":\"P_3398_仓鼠找_sugar\",\"link\":\"/cpp/1984-01/P_3398_仓鼠找_sugar.md\"},{\"text\":\"P_3391_模板_文艺平衡树\",\"link\":\"/cpp/1984-01/P_3391_模板_文艺平衡树.md\"},{\"text\":\"P_3380_模板_二逼平衡树_树套树\",\"link\":\"/cpp/1984-01/P_3380_模板_二逼平衡树_树套树.md\"},{\"text\":\"P_3379_模板_最近公共祖先_LCA\",\"link\":\"/cpp/1984-01/P_3379_模板_最近公共祖先_LCA.md\"},{\"text\":\"P_3375_模板_KMP\",\"link\":\"/cpp/1984-01/P_3375_模板_KMP.md\"},{\"text\":\"P_3373_模板_线段树_2\",\"link\":\"/cpp/1984-01/P_3373_模板_线段树_2.md\"},{\"text\":\"P_3372_模板_线段树_1\",\"link\":\"/cpp/1984-01/P_3372_模板_线段树_1.md\"},{\"text\":\"P_3369_模板_普通平衡树\",\"link\":\"/cpp/1984-01/P_3369_模板_普通平衡树.md\"},{\"text\":\"P_3178_HAOI_2015_树上操作\",\"link\":\"/cpp/1984-01/P_3178_HAOI_2015_树上操作.md\"},{\"text\":\"P_3128_USACO_15_DEC_Max_Flow_P\",\"link\":\"/cpp/1984-01/P_3128_USACO_15_DEC_Max_Flow_P.md\"},{\"text\":\"P_2888_USACO_07_NOV_Cow_Hurdles_S\",\"link\":\"/cpp/1984-01/P_2888_USACO_07_NOV_Cow_Hurdles_S.md\"},{\"text\":\"P_2871_USACO_07_DEC_Charm_Bracelet_S\",\"link\":\"/cpp/1984-01/P_2871_USACO_07_DEC_Charm_Bracelet_S.md\"},{\"text\":\"P_2824_HEOI_2016_TJOI_2016_排序\",\"link\":\"/cpp/1984-01/P_2824_HEOI_2016_TJOI_2016_排序.md\"},{\"text\":\"P_2758_编辑距离\",\"link\":\"/cpp/1984-01/P_2758_编辑距离.md\"},{\"text\":\"P_2709_小B的询问\",\"link\":\"/cpp/1984-01/P_2709_小B的询问.md\"},{\"text\":\"P_2704_NOI_2001_炮兵阵地\",\"link\":\"/cpp/1984-01/P_2704_NOI_2001_炮兵阵地.md\"},{\"text\":\"P_2580_于是他错误的点名开始了\",\"link\":\"/cpp/1984-01/P_2580_于是他错误的点名开始了.md\"},{\"text\":\"P_2324_SCOI_2005_骑士精神\",\"link\":\"/cpp/1984-01/P_2324_SCOI_2005_骑士精神.md\"},{\"text\":\"P_2285_HNOI_2004_打鼹鼠\",\"link\":\"/cpp/1984-01/P_2285_HNOI_2004_打鼹鼠.md\"},{\"text\":\"P_2146_NOI_2015_软件包管理器\",\"link\":\"/cpp/1984-01/P_2146_NOI_2015_软件包管理器.md\"},{\"text\":\"P_2052_NOI_2011_道路修建\",\"link\":\"/cpp/1984-01/P_2052_NOI_2011_道路修建.md\"},{\"text\":\"P_2047_NOI_2007_社交网络\",\"link\":\"/cpp/1984-01/P_2047_NOI_2007_社交网络.md\"},{\"text\":\"P_1972_SDOI_2009_HH的项链\",\"link\":\"/cpp/1984-01/P_1972_SDOI_2009_HH的项链.md\"},{\"text\":\"P_1908_逆序对\",\"link\":\"/cpp/1984-01/P_1908_逆序对.md\"},{\"text\":\"P_1896_SCOI_2005_互不侵犯\",\"link\":\"/cpp/1984-01/P_1896_SCOI_2005_互不侵犯.md\"},{\"text\":\"P_1886_滑动窗口_模板_单调队列\",\"link\":\"/cpp/1984-01/P_1886_滑动窗口_模板_单调队列.md\"},{\"text\":\"P_1879_USACO_06_NOV_Corn_Fields_G\",\"link\":\"/cpp/1984-01/P_1879_USACO_06_NOV_Corn_Fields_G.md\"},{\"text\":\"P_1725_琪露诺\",\"link\":\"/cpp/1984-01/P_1725_琪露诺.md\"},{\"text\":\"P_1719_最大加权矩形\",\"link\":\"/cpp/1984-01/P_1719_最大加权矩形.md\"},{\"text\":\"P_1486_NOI_2004_郁闷的出纳员\",\"link\":\"/cpp/1984-01/P_1486_NOI_2004_郁闷的出纳员.md\"},{\"text\":\"P_1481_魔族密码\",\"link\":\"/cpp/1984-01/P_1481_魔族密码.md\"},{\"text\":\"P_1462_通往奥格瑞玛的道路\",\"link\":\"/cpp/1984-01/P_1462_通往奥格瑞玛的道路.md\"},{\"text\":\"P_1439_模板_最长公共子序列\",\"link\":\"/cpp/1984-01/P_1439_模板_最长公共子序列.md\"},{\"text\":\"P_1434_SHOI_2002_滑雪\",\"link\":\"/cpp/1984-01/P_1434_SHOI_2002_滑雪.md\"},{\"text\":\"P_1395_会议\",\"link\":\"/cpp/1984-01/P_1395_会议.md\"},{\"text\":\"P_1379_八数码难题\",\"link\":\"/cpp/1984-01/P_1379_八数码难题.md\"},{\"text\":\"P_1357_花园\",\"link\":\"/cpp/1984-01/P_1357_花园.md\"},{\"text\":\"P_1314_NOIP_2011_提高组_聪明的质监员\",\"link\":\"/cpp/1984-01/P_1314_NOIP_2011_提高组_聪明的质监员.md\"},{\"text\":\"P_1216_USACO_1_5_IOI_1994_数字三角形_Number_Triangles\",\"link\":\"/cpp/1984-01/P_1216_USACO_1_5_IOI_1994_数字三角形_Number_Triangles.md\"},{\"text\":\"P_1164_小A点菜\",\"link\":\"/cpp/1984-01/P_1164_小A点菜.md\"},{\"text\":\"P_1120_小木棍\",\"link\":\"/cpp/1984-01/P_1120_小木棍.md\"},{\"text\":\"P_1119_灾后重建\",\"link\":\"/cpp/1984-01/P_1119_灾后重建.md\"},{\"text\":\"P_1102_A_B_数对\",\"link\":\"/cpp/1984-01/P_1102_A_B_数对.md\"},{\"text\":\"P_1049_NOIP_2001_普及组_装箱问题\",\"link\":\"/cpp/1984-01/P_1049_NOIP_2001_普及组_装箱问题.md\"},{\"text\":\"P_1048_NOIP_2005_普及组_采药\",\"link\":\"/cpp/1984-01/P_1048_NOIP_2005_普及组_采药.md\"},{\"text\":\"P_1024_NOIP_2001_提高组_一元三次方程求解\",\"link\":\"/cpp/1984-01/P_1024_NOIP_2001_提高组_一元三次方程求解.md\"},{\"text\":\"P_1020_NOIP_1999_普及组_导弹拦截\",\"link\":\"/cpp/1984-01/P_1020_NOIP_1999_普及组_导弹拦截.md\"},{\"text\":\"P4556\",\"link\":\"/cpp/1984-01/P4556.md\"},{\"text\":\"P4554 小明的游戏\",\"link\":\"/cpp/1984-01/P4554 小明的游戏.md\"},{\"text\":\"P3905 道路重建\",\"link\":\"/cpp/1984-01/P3905 道路重建.md\"},{\"text\":\"P3388 【模板】割点（割顶）\",\"link\":\"/cpp/1984-01/P3388 【模板】割点（割顶）.md\"},{\"text\":\"P3366 【模板】最小生成树\",\"link\":\"/cpp/1984-01/P3366 【模板】最小生成树.md\"},{\"text\":\"P2700 逐个击破\",\"link\":\"/cpp/1984-01/P2700 逐个击破.md\"},{\"text\":\"P2656 采蘑菇\",\"link\":\"/cpp/1984-01/P2656 采蘑菇.md\"},{\"text\":\"P2648 赚钱\",\"link\":\"/cpp/1984-01/P2648 赚钱.md\"},{\"text\":\"P2136 拉近距离\",\"link\":\"/cpp/1984-01/P2136 拉近距离.md\"},{\"text\":\"P1875 佳佳的魔法药水\",\"link\":\"/cpp/1984-01/P1875 佳佳的魔法药水.md\"},{\"text\":\"P1744 采购特价商品\",\"link\":\"/cpp/1984-01/P1744 采购特价商品.md\"},{\"text\":\"P1656 炸铁路\",\"link\":\"/cpp/1984-01/P1656 炸铁路.md\"},{\"text\":\"P1629 邮递员送信\",\"link\":\"/cpp/1984-01/P1629 邮递员送信.md\"},{\"text\":\"P1396 营救\",\"link\":\"/cpp/1984-01/P1396 营救.md\"},{\"text\":\"P1331 海战\",\"link\":\"/cpp/1984-01/P1331 海战.md\"},{\"text\":\"P1195 口袋的天空\",\"link\":\"/cpp/1984-01/P1195 口袋的天空.md\"},{\"text\":\"P1194 买礼物\",\"link\":\"/cpp/1984-01/P1194 买礼物.md\"}]}],\"/algorithm/\":[{\"text\":\"算法\",\"link\":\"/algorithm/index.md\"},{\"text\":\"树\",\"collapsed\":false,\"items\":[{\"text\":\"线段树\",\"link\":\"/algorithm/树/线段树.md\"},{\"text\":\"最近公共祖先\",\"link\":\"/algorithm/树/最近公共祖先.md\"},{\"text\":\"最小生成树\",\"link\":\"/algorithm/树/最小生成树.md\"},{\"text\":\"搜索树\",\"link\":\"/algorithm/树/搜索树.md\"}]},{\"text\":\"数组\",\"collapsed\":false,\"items\":[{\"text\":\"链表\",\"link\":\"/algorithm/数组/链表.md\"},{\"text\":\"矩阵\",\"link\":\"/algorithm/数组/矩阵.md\"},{\"text\":\"滑动窗口\",\"link\":\"/algorithm/数组/滑动窗口.md\"},{\"text\":\"栈\",\"link\":\"/algorithm/数组/栈.md\"},{\"text\":\"堆\",\"link\":\"/algorithm/数组/堆.md\"},{\"text\":\"图\",\"link\":\"/algorithm/数组/图.md\"},{\"text\":\"回溯\",\"link\":\"/algorithm/数组/回溯.md\"},{\"text\":\"双指针\",\"link\":\"/algorithm/数组/双指针.md\"},{\"text\":\"区间\",\"link\":\"/algorithm/数组/区间.md\"},{\"text\":\"删除元素\",\"link\":\"/algorithm/数组/删除元素.md\"},{\"text\":\"二叉树\",\"link\":\"/algorithm/数组/二叉树.md\"},{\"text\":\"二分\",\"link\":\"/algorithm/数组/二分.md\"},{\"text\":\"字典树\",\"link\":\"/algorithm/数组/trie.md\"},{\"text\":\"数学\",\"link\":\"/algorithm/数组/math.md\"},{\"text\":\"动态规划\",\"link\":\"/algorithm/数组/dp.md\"}]},{\"text\":\"数学\",\"collapsed\":false,\"items\":[{\"text\":\"高精度\",\"link\":\"/algorithm/数学/高精度.md\"},{\"text\":\"质数\",\"link\":\"/algorithm/数学/质数.md\"},{\"text\":\"欧拉函数\",\"link\":\"/algorithm/数学/欧拉函数.md\"},{\"text\":\"快速幂\",\"link\":\"/algorithm/数学/快速幂.md\"},{\"text\":\"# 因数\",\"link\":\"/algorithm/数学/因数.md\"},{\"text\":\"home\",\"link\":\"/algorithm/数学/index.md\"}]},{\"text\":\"搜索\",\"collapsed\":false,\"items\":[{\"text\":\"记忆话搜索\",\"link\":\"/algorithm/搜索/记忆话搜索.md\"},{\"text\":\"回溯算法\",\"link\":\"/algorithm/搜索/回溯算法.md\"},{\"text\":\"IDA*\",\"link\":\"/algorithm/搜索/IDA*.md\"}]},{\"text\":\"字符串\",\"collapsed\":false,\"items\":[{\"text\":\"字符串\",\"link\":\"/algorithm/字符串/string.md\"},{\"text\":\"automaton\",\"link\":\"/algorithm/字符串/automaton.md\"}]},{\"text\":\"图论\",\"collapsed\":false,\"items\":[{\"text\":\"tarjan 连通图\",\"link\":\"/algorithm/图论/连通图.md\"},{\"text\":\"网络流\",\"link\":\"/algorithm/图论/网络流.md\"},{\"text\":\"最短路\",\"link\":\"/algorithm/图论/最短路.md\"},{\"text\":\"二分图\",\"link\":\"/algorithm/图论/二分图.md\"}]},{\"text\":\"动态规划\",\"collapsed\":false,\"items\":[{\"text\":\"记忆话搜索\",\"link\":\"/algorithm/动态规划/记忆话搜索.md\"},{\"text\":\"背包问题\",\"link\":\"/algorithm/动态规划/背包问题.md\"},{\"text\":\"状态压缩\",\"link\":\"/algorithm/动态规划/状态压缩.md\"},{\"text\":\"最长上升子序列\",\"link\":\"/algorithm/动态规划/最长上升子序列.md\"}]},{\"text\":\"其他算法\",\"collapsed\":false,\"items\":[{\"text\":\"莫队\",\"link\":\"/algorithm/其他算法/莫队.md\"},{\"text\":\"扫描线\",\"link\":\"/algorithm/其他算法/扫描线.md\"},{\"text\":\"二分\",\"link\":\"/algorithm/其他算法/二分.md\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>